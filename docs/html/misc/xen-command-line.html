<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<div id="TOC">
<ul>
<li><a href="#xen-hypervisor-command-line-options"><span class="toc-section-number">1</span> Xen Hypervisor Command Line Options</a><ul>
<li><a href="#types-of-parameter"><span class="toc-section-number">1.1</span> Types of parameter</a><ul>
<li><a href="#boolean-boolean"><span class="toc-section-number">1.1.1</span> Boolean (<code>&lt;boolean&gt;</code>)</a></li>
<li><a href="#integer-integer"><span class="toc-section-number">1.1.2</span> Integer (<code>&lt;integer&gt;</code>)</a></li>
<li><a href="#size-size"><span class="toc-section-number">1.1.3</span> Size (<code>&lt;size&gt;</code>)</a></li>
<li><a href="#string"><span class="toc-section-number">1.1.4</span> String</a></li>
<li><a href="#list"><span class="toc-section-number">1.1.5</span> List</a></li>
<li><a href="#combination"><span class="toc-section-number">1.1.6</span> Combination</a></li>
</ul></li>
<li><a href="#parameter-details"><span class="toc-section-number">1.2</span> Parameter details</a><ul>
<li><a href="#acpi"><span class="toc-section-number">1.2.1</span> acpi</a></li>
<li><a href="#acpi_apic_instance"><span class="toc-section-number">1.2.2</span> acpi_apic_instance</a></li>
<li><a href="#acpi_pstate_strict-x86"><span class="toc-section-number">1.2.3</span> acpi_pstate_strict (x86)</a></li>
<li><a href="#acpi_skip_timer_override-x86"><span class="toc-section-number">1.2.4</span> acpi_skip_timer_override (x86)</a></li>
<li><a href="#acpi_sleep-x86"><span class="toc-section-number">1.2.5</span> acpi_sleep (x86)</a></li>
<li><a href="#allow_unsafe-x86"><span class="toc-section-number">1.2.6</span> allow_unsafe (x86)</a></li>
<li><a href="#altp2m-intel"><span class="toc-section-number">1.2.7</span> altp2m (Intel)</a></li>
<li><a href="#apic-x86"><span class="toc-section-number">1.2.8</span> apic (x86)</a></li>
<li><a href="#apicv-intel"><span class="toc-section-number">1.2.9</span> apicv (Intel)</a></li>
<li><a href="#apic_verbosity-x86"><span class="toc-section-number">1.2.10</span> apic_verbosity (x86)</a></li>
<li><a href="#arat-x86"><span class="toc-section-number">1.2.11</span> arat (x86)</a></li>
<li><a href="#argo"><span class="toc-section-number">1.2.12</span> argo</a></li>
<li><a href="#asid-x86"><span class="toc-section-number">1.2.13</span> asid (x86)</a></li>
<li><a href="#async-show-all-x86"><span class="toc-section-number">1.2.14</span> async-show-all (x86)</a></li>
<li><a href="#ats-x86"><span class="toc-section-number">1.2.15</span> ats (x86)</a></li>
<li><a href="#availmem"><span class="toc-section-number">1.2.16</span> availmem</a></li>
<li><a href="#badpage"><span class="toc-section-number">1.2.17</span> badpage</a></li>
<li><a href="#bootscrub"><span class="toc-section-number">1.2.18</span> bootscrub</a></li>
<li><a href="#bootscrub_chunk"><span class="toc-section-number">1.2.19</span> bootscrub_chunk</a></li>
<li><a href="#clocksource-x86"><span class="toc-section-number">1.2.20</span> clocksource (x86)</a></li>
<li><a href="#cmci-threshold-intel"><span class="toc-section-number">1.2.21</span> cmci-threshold (Intel)</a></li>
<li><a href="#cmos-rtc-probe-x86"><span class="toc-section-number">1.2.22</span> cmos-rtc-probe (x86)</a></li>
<li><a href="#com1"><span class="toc-section-number">1.2.23</span> com1</a></li>
<li><a href="#com2"><span class="toc-section-number">1.2.24</span> com2</a></li>
<li><a href="#conring_size"><span class="toc-section-number">1.2.25</span> conring_size</a></li>
<li><a href="#console"><span class="toc-section-number">1.2.26</span> console</a></li>
<li><a href="#console_timestamps"><span class="toc-section-number">1.2.27</span> console_timestamps</a></li>
<li><a href="#console_to_ring"><span class="toc-section-number">1.2.28</span> console_to_ring</a></li>
<li><a href="#conswitch"><span class="toc-section-number">1.2.29</span> conswitch</a></li>
<li><a href="#core_parking"><span class="toc-section-number">1.2.30</span> core_parking</a></li>
<li><a href="#cpu_type-x86"><span class="toc-section-number">1.2.31</span> cpu_type (x86)</a></li>
<li><a href="#cpufreq"><span class="toc-section-number">1.2.32</span> cpufreq</a></li>
<li><a href="#cpuid-x86"><span class="toc-section-number">1.2.33</span> cpuid (x86)</a></li>
<li><a href="#cpuid_mask_cpu"><span class="toc-section-number">1.2.34</span> cpuid_mask_cpu</a></li>
<li><a href="#cpuid_mask_ecx"><span class="toc-section-number">1.2.35</span> cpuid_mask_ecx</a></li>
<li><a href="#cpuid_mask_edx"><span class="toc-section-number">1.2.36</span> cpuid_mask_edx</a></li>
<li><a href="#cpuid_mask_ext_ecx"><span class="toc-section-number">1.2.37</span> cpuid_mask_ext_ecx</a></li>
<li><a href="#cpuid_mask_ext_edx"><span class="toc-section-number">1.2.38</span> cpuid_mask_ext_edx</a></li>
<li><a href="#cpuid_mask_l7s0_eax"><span class="toc-section-number">1.2.39</span> cpuid_mask_l7s0_eax</a></li>
<li><a href="#cpuid_mask_l7s0_ebx"><span class="toc-section-number">1.2.40</span> cpuid_mask_l7s0_ebx</a></li>
<li><a href="#cpuid_mask_thermal_ecx"><span class="toc-section-number">1.2.41</span> cpuid_mask_thermal_ecx</a></li>
<li><a href="#cpuid_mask_xsave_eax"><span class="toc-section-number">1.2.42</span> cpuid_mask_xsave_eax</a></li>
<li><a href="#cpuidle-x86"><span class="toc-section-number">1.2.43</span> cpuidle (x86)</a></li>
<li><a href="#cpuinfo-x86"><span class="toc-section-number">1.2.44</span> cpuinfo (x86)</a></li>
<li><a href="#crashinfo_maxaddr"><span class="toc-section-number">1.2.45</span> crashinfo_maxaddr</a></li>
<li><a href="#crashkernel"><span class="toc-section-number">1.2.46</span> crashkernel</a></li>
<li><a href="#credit2_balance_over"><span class="toc-section-number">1.2.47</span> credit2_balance_over</a></li>
<li><a href="#credit2_balance_under"><span class="toc-section-number">1.2.48</span> credit2_balance_under</a></li>
<li><a href="#credit2_cap_period_ms"><span class="toc-section-number">1.2.49</span> credit2_cap_period_ms</a></li>
<li><a href="#credit2_load_precision_shift"><span class="toc-section-number">1.2.50</span> credit2_load_precision_shift</a></li>
<li><a href="#credit2_load_window_shift"><span class="toc-section-number">1.2.51</span> credit2_load_window_shift</a></li>
<li><a href="#credit2_runqueue"><span class="toc-section-number">1.2.52</span> credit2_runqueue</a></li>
<li><a href="#dbgp"><span class="toc-section-number">1.2.53</span> dbgp</a></li>
<li><a href="#debug_stack_lines"><span class="toc-section-number">1.2.54</span> debug_stack_lines</a></li>
<li><a href="#debugtrace"><span class="toc-section-number">1.2.55</span> debugtrace</a></li>
<li><a href="#dma_bits"><span class="toc-section-number">1.2.56</span> dma_bits</a></li>
<li><a href="#dom0"><span class="toc-section-number">1.2.57</span> dom0</a></li>
<li><a href="#dom0-iommu"><span class="toc-section-number">1.2.58</span> dom0-iommu</a></li>
<li><a href="#dom0_ioports_disable-x86"><span class="toc-section-number">1.2.59</span> dom0_ioports_disable (x86)</a></li>
<li><a href="#dom0_max_vcpus"><span class="toc-section-number">1.2.60</span> dom0_max_vcpus</a></li>
<li><a href="#dom0_mem-arm"><span class="toc-section-number">1.2.61</span> dom0_mem (ARM)</a></li>
<li><a href="#dom0_mem-x86"><span class="toc-section-number">1.2.62</span> dom0_mem (x86)</a></li>
<li><a href="#dom0_nodes-x86"><span class="toc-section-number">1.2.63</span> dom0_nodes (x86)</a></li>
<li><a href="#dom0_vcpus_pin"><span class="toc-section-number">1.2.64</span> dom0_vcpus_pin</a></li>
<li><a href="#dtuart-arm"><span class="toc-section-number">1.2.65</span> dtuart (ARM)</a></li>
<li><a href="#e820-mtrr-clip-x86"><span class="toc-section-number">1.2.66</span> e820-mtrr-clip (x86)</a></li>
<li><a href="#e820-verbose-x86"><span class="toc-section-number">1.2.67</span> e820-verbose (x86)</a></li>
<li><a href="#edd-x86"><span class="toc-section-number">1.2.68</span> edd (x86)</a></li>
<li><a href="#edid-x86"><span class="toc-section-number">1.2.69</span> edid (x86)</a></li>
<li><a href="#efi"><span class="toc-section-number">1.2.70</span> efi</a></li>
<li><a href="#ept"><span class="toc-section-number">1.2.71</span> ept</a></li>
<li><a href="#extra_guest_irqs"><span class="toc-section-number">1.2.72</span> extra_guest_irqs</a></li>
<li><a href="#flask"><span class="toc-section-number">1.2.73</span> flask</a></li>
<li><a href="#font"><span class="toc-section-number">1.2.74</span> font</a></li>
<li><a href="#force-ept-intel"><span class="toc-section-number">1.2.75</span> force-ept (Intel)</a></li>
<li><a href="#gdb"><span class="toc-section-number">1.2.76</span> gdb</a></li>
<li><a href="#gnttab"><span class="toc-section-number">1.2.77</span> gnttab</a></li>
<li><a href="#gnttab_max_frames"><span class="toc-section-number">1.2.78</span> gnttab_max_frames</a></li>
<li><a href="#gnttab_max_maptrack_frames"><span class="toc-section-number">1.2.79</span> gnttab_max_maptrack_frames</a></li>
<li><a href="#guest_loglvl"><span class="toc-section-number">1.2.80</span> guest_loglvl</a></li>
<li><a href="#hap-x86"><span class="toc-section-number">1.2.81</span> hap (x86)</a></li>
<li><a href="#hap_1gb-x86"><span class="toc-section-number">1.2.82</span> hap_1gb (x86)</a></li>
<li><a href="#hap_2mb-x86"><span class="toc-section-number">1.2.83</span> hap_2mb (x86)</a></li>
<li><a href="#hardware_dom"><span class="toc-section-number">1.2.84</span> hardware_dom</a></li>
<li><a href="#hest_disable"><span class="toc-section-number">1.2.85</span> hest_disable</a></li>
<li><a href="#highmem-start-x86"><span class="toc-section-number">1.2.86</span> highmem-start (x86)</a></li>
<li><a href="#hmp-unsafe-arm"><span class="toc-section-number">1.2.87</span> hmp-unsafe (arm)</a></li>
<li><a href="#hpetbroadcast-x86"><span class="toc-section-number">1.2.88</span> hpetbroadcast (x86)</a></li>
<li><a href="#hvm_debug-x86"><span class="toc-section-number">1.2.89</span> hvm_debug (x86)</a></li>
<li><a href="#hvm_fep-x86"><span class="toc-section-number">1.2.90</span> hvm_fep (x86)</a></li>
<li><a href="#hvm_port80-x86"><span class="toc-section-number">1.2.91</span> hvm_port80 (x86)</a></li>
<li><a href="#idle_latency_factor-x86"><span class="toc-section-number">1.2.92</span> idle_latency_factor (x86)</a></li>
<li><a href="#ioapic_ack-x86"><span class="toc-section-number">1.2.93</span> ioapic_ack (x86)</a></li>
<li><a href="#iommu"><span class="toc-section-number">1.2.94</span> iommu</a></li>
<li><a href="#iommu_dev_iotlb_timeout"><span class="toc-section-number">1.2.95</span> iommu_dev_iotlb_timeout</a></li>
<li><a href="#iommu_inclusive_mapping"><span class="toc-section-number">1.2.96</span> iommu_inclusive_mapping</a></li>
<li><a href="#irq_ratelimit-x86"><span class="toc-section-number">1.2.97</span> irq_ratelimit (x86)</a></li>
<li><a href="#irq_vector_map-x86"><span class="toc-section-number">1.2.98</span> irq_vector_map (x86)</a></li>
<li><a href="#ivrs_hpethpet-amd"><span class="toc-section-number">1.2.99</span> ivrs_hpet[<code>&lt;hpet&gt;</code>] (AMD)</a></li>
<li><a href="#ivrs_ioapicioapic-amd"><span class="toc-section-number">1.2.100</span> ivrs_ioapic[<code>&lt;ioapic&gt;</code>] (AMD)</a></li>
<li><a href="#lapic-x86"><span class="toc-section-number">1.2.101</span> lapic (x86)</a></li>
<li><a href="#lapic_timer_c2_ok-x86"><span class="toc-section-number">1.2.102</span> lapic_timer_c2_ok (x86)</a></li>
<li><a href="#ler-x86"><span class="toc-section-number">1.2.103</span> ler (x86)</a></li>
<li><a href="#loglvl"><span class="toc-section-number">1.2.104</span> loglvl</a></li>
<li><a href="#low_crashinfo"><span class="toc-section-number">1.2.105</span> low_crashinfo</a></li>
<li><a href="#low_mem_virq_limit"><span class="toc-section-number">1.2.106</span> low_mem_virq_limit</a></li>
<li><a href="#maxcpus-x86"><span class="toc-section-number">1.2.107</span> maxcpus (x86)</a></li>
<li><a href="#max_cstate-x86"><span class="toc-section-number">1.2.108</span> max_cstate (x86)</a></li>
<li><a href="#max_gsi_irqs-x86"><span class="toc-section-number">1.2.109</span> max_gsi_irqs (x86)</a></li>
<li><a href="#max_lpi_bits-arm"><span class="toc-section-number">1.2.110</span> max_lpi_bits (arm)</a></li>
<li><a href="#mce-x86"><span class="toc-section-number">1.2.111</span> mce (x86)</a></li>
<li><a href="#mce_fb-intel"><span class="toc-section-number">1.2.112</span> mce_fb (Intel)</a></li>
<li><a href="#mce_verbosity-x86"><span class="toc-section-number">1.2.113</span> mce_verbosity (x86)</a></li>
<li><a href="#mem-x86"><span class="toc-section-number">1.2.114</span> mem (x86)</a></li>
<li><a href="#memop-max-order"><span class="toc-section-number">1.2.115</span> memop-max-order</a></li>
<li><a href="#mmcfg-x86"><span class="toc-section-number">1.2.116</span> mmcfg (x86)</a></li>
<li><a href="#mmio-relax-x86"><span class="toc-section-number">1.2.117</span> mmio-relax (x86)</a></li>
<li><a href="#msi-x86"><span class="toc-section-number">1.2.118</span> msi (x86)</a></li>
<li><a href="#mtrr.show-x86"><span class="toc-section-number">1.2.119</span> mtrr.show (x86)</a></li>
<li><a href="#mwait-idle-x86"><span class="toc-section-number">1.2.120</span> mwait-idle (x86)</a></li>
<li><a href="#nmi-x86"><span class="toc-section-number">1.2.121</span> nmi (x86)</a></li>
<li><a href="#noapic-x86"><span class="toc-section-number">1.2.122</span> noapic (x86)</a></li>
<li><a href="#invpcid-x86"><span class="toc-section-number">1.2.123</span> invpcid (x86)</a></li>
<li><a href="#noirqbalance-x86"><span class="toc-section-number">1.2.124</span> noirqbalance (x86)</a></li>
<li><a href="#nolapic-x86"><span class="toc-section-number">1.2.125</span> nolapic (x86)</a></li>
<li><a href="#no-real-mode-x86"><span class="toc-section-number">1.2.126</span> no-real-mode (x86)</a></li>
<li><a href="#noreboot"><span class="toc-section-number">1.2.127</span> noreboot</a></li>
<li><a href="#nosmp-x86"><span class="toc-section-number">1.2.128</span> nosmp (x86)</a></li>
<li><a href="#nr_irqs-x86"><span class="toc-section-number">1.2.129</span> nr_irqs (x86)</a></li>
<li><a href="#numa-x86"><span class="toc-section-number">1.2.130</span> numa (x86)</a></li>
<li><a href="#pci"><span class="toc-section-number">1.2.131</span> pci</a></li>
<li><a href="#pci-phantom"><span class="toc-section-number">1.2.132</span> pci-phantom</a></li>
<li><a href="#pcid-x86"><span class="toc-section-number">1.2.133</span> pcid (x86)</a></li>
<li><a href="#pku-x86"><span class="toc-section-number">1.2.134</span> pku (x86)</a></li>
<li><a href="#ple_gap"><span class="toc-section-number">1.2.135</span> ple_gap</a></li>
<li><a href="#ple_window-intel"><span class="toc-section-number">1.2.136</span> ple_window (Intel)</a></li>
<li><a href="#psr-intel"><span class="toc-section-number">1.2.137</span> psr (Intel)</a></li>
<li><a href="#pv-linear-pt-x86"><span class="toc-section-number">1.2.138</span> pv-linear-pt (x86)</a></li>
<li><a href="#pv-l1tf-x86"><span class="toc-section-number">1.2.139</span> pv-l1tf (x86)</a></li>
<li><a href="#pv-shim-x86"><span class="toc-section-number">1.2.140</span> pv-shim (x86)</a></li>
<li><a href="#rcu-idle-timer-period-ms"><span class="toc-section-number">1.2.141</span> rcu-idle-timer-period-ms</a></li>
<li><a href="#reboot-x86"><span class="toc-section-number">1.2.142</span> reboot (x86)</a></li>
<li><a href="#rmrr"><span class="toc-section-number">1.2.143</span> rmrr</a></li>
<li><a href="#ro-hpet-x86"><span class="toc-section-number">1.2.144</span> ro-hpet (x86)</a></li>
<li><a href="#sched"><span class="toc-section-number">1.2.145</span> sched</a></li>
<li><a href="#sched_credit2_migrate_resist"><span class="toc-section-number">1.2.146</span> sched_credit2_migrate_resist</a></li>
<li><a href="#sched_credit_tslice_ms"><span class="toc-section-number">1.2.147</span> sched_credit_tslice_ms</a></li>
<li><a href="#sched_ratelimit_us"><span class="toc-section-number">1.2.148</span> sched_ratelimit_us</a></li>
<li><a href="#sched_smt_power_savings"><span class="toc-section-number">1.2.149</span> sched_smt_power_savings</a></li>
<li><a href="#serial_tx_buffer"><span class="toc-section-number">1.2.150</span> serial_tx_buffer</a></li>
<li><a href="#serrors-arm"><span class="toc-section-number">1.2.151</span> serrors (ARM)</a></li>
<li><a href="#shim_mem-x86"><span class="toc-section-number">1.2.152</span> shim_mem (x86)</a></li>
<li><a href="#smap-x86"><span class="toc-section-number">1.2.153</span> smap (x86)</a></li>
<li><a href="#smep-x86"><span class="toc-section-number">1.2.154</span> smep (x86)</a></li>
<li><a href="#smt-x86"><span class="toc-section-number">1.2.155</span> smt (x86)</a></li>
<li><a href="#snb_igd_quirk"><span class="toc-section-number">1.2.156</span> snb_igd_quirk</a></li>
<li><a href="#spec-ctrl-arm"><span class="toc-section-number">1.2.157</span> spec-ctrl (Arm)</a></li>
<li><a href="#spec-ctrl-x86"><span class="toc-section-number">1.2.158</span> spec-ctrl (x86)</a></li>
<li><a href="#sync_console"><span class="toc-section-number">1.2.159</span> sync_console</a></li>
<li><a href="#tboot-x86"><span class="toc-section-number">1.2.160</span> tboot (x86)</a></li>
<li><a href="#tbuf_size"><span class="toc-section-number">1.2.161</span> tbuf_size</a></li>
<li><a href="#tdt-x86"><span class="toc-section-number">1.2.162</span> tdt (x86)</a></li>
<li><a href="#tevt_mask"><span class="toc-section-number">1.2.163</span> tevt_mask</a></li>
<li><a href="#tickle_one_idle_cpu"><span class="toc-section-number">1.2.164</span> tickle_one_idle_cpu</a></li>
<li><a href="#timer_slop"><span class="toc-section-number">1.2.165</span> timer_slop</a></li>
<li><a href="#tmem"><span class="toc-section-number">1.2.166</span> tmem</a></li>
<li><a href="#tmem_compress"><span class="toc-section-number">1.2.167</span> tmem_compress</a></li>
<li><a href="#tsc-x86"><span class="toc-section-number">1.2.168</span> tsc (x86)</a></li>
<li><a href="#tsx"><span class="toc-section-number">1.2.169</span> tsx</a></li>
<li><a href="#ucode-x86"><span class="toc-section-number">1.2.170</span> ucode (x86)</a></li>
<li><a href="#unrestricted_guest-intel"><span class="toc-section-number">1.2.171</span> unrestricted_guest (Intel)</a></li>
<li><a href="#vcpu_migration_delay"><span class="toc-section-number">1.2.172</span> vcpu_migration_delay</a></li>
<li><a href="#vesa-map"><span class="toc-section-number">1.2.173</span> vesa-map</a></li>
<li><a href="#vesa-mtrr"><span class="toc-section-number">1.2.174</span> vesa-mtrr</a></li>
<li><a href="#vesa-ram"><span class="toc-section-number">1.2.175</span> vesa-ram</a></li>
<li><a href="#vga"><span class="toc-section-number">1.2.176</span> vga</a></li>
<li><a href="#viridian-spinlock-retry-count-x86"><span class="toc-section-number">1.2.177</span> viridian-spinlock-retry-count (x86)</a></li>
<li><a href="#viridian-version-x86"><span class="toc-section-number">1.2.178</span> viridian-version (x86)</a></li>
<li><a href="#vpid-intel"><span class="toc-section-number">1.2.179</span> vpid (Intel)</a></li>
<li><a href="#vpmu-x86"><span class="toc-section-number">1.2.180</span> vpmu (x86)</a></li>
<li><a href="#vwfi-arm"><span class="toc-section-number">1.2.181</span> vwfi (arm)</a></li>
<li><a href="#watchdog-x86"><span class="toc-section-number">1.2.182</span> watchdog (x86)</a></li>
<li><a href="#watchdog_timeout-x86"><span class="toc-section-number">1.2.183</span> watchdog_timeout (x86)</a></li>
<li><a href="#x2apic-x86"><span class="toc-section-number">1.2.184</span> x2apic (x86)</a></li>
<li><a href="#x2apic_phys-x86"><span class="toc-section-number">1.2.185</span> x2apic_phys (x86)</a></li>
<li><a href="#xenheap_megabytes-arm32"><span class="toc-section-number">1.2.186</span> xenheap_megabytes (arm32)</a></li>
<li><a href="#xpti-x86"><span class="toc-section-number">1.2.187</span> xpti (x86)</a></li>
<li><a href="#xsave-x86"><span class="toc-section-number">1.2.188</span> xsave (x86)</a></li>
<li><a href="#xsm"><span class="toc-section-number">1.2.189</span> xsm</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1 id="xen-hypervisor-command-line-options"><span class="header-section-number">1</span> Xen Hypervisor Command Line Options</h1>
<p>This document covers the command line options which the Xen Hypervisor.</p>
<h2 id="types-of-parameter"><span class="header-section-number">1.1</span> Types of parameter</h2>
<p>Most parameters take the form <code>option=value</code>. Different options on the command line should be space delimited. All options are case sensitive, as are all values unless explicitly noted.</p>
<h3 id="boolean-boolean"><span class="header-section-number">1.1.1</span> Boolean (<code>&lt;boolean&gt;</code>)</h3>
<p>All boolean option may be explicitly enabled using a <code>value</code> of &gt; <code>yes</code>, <code>on</code>, <code>true</code>, <code>enable</code> or <code>1</code></p>
<p>They may be explicitly disabled using a <code>value</code> of &gt; <code>no</code>, <code>off</code>, <code>false</code>, <code>disable</code> or <code>0</code></p>
<p>In addition, a boolean option may be enabled by simply stating its name, and may be disabled by prefixing its name with <code>no-</code>.</p>
<h4 id="examples"><span class="header-section-number">1.1.1.1</span> Examples</h4>
<p>Enable noreboot mode &gt; <code>noreboot=true</code></p>
<p>Disable x2apic support (if present) &gt; <code>x2apic=off</code></p>
<p>Enable synchronous console mode &gt; <code>sync_console</code></p>
<p>Explicitly specifying any value other than those listed above is undefined, as is stacking a <code>no-</code> prefix with an explicit value.</p>
<h3 id="integer-integer"><span class="header-section-number">1.1.2</span> Integer (<code>&lt;integer&gt;</code>)</h3>
<p>An integer parameter will default to decimal and may be prefixed with a <code>-</code> for negative numbers. Alternatively, a hexadecimal number may be used by prefixing the number with <code>0x</code>, or an octal number may be used if a leading <code>0</code> is present.</p>
<p>Providing a string which does not validly convert to an integer is undefined.</p>
<h3 id="size-size"><span class="header-section-number">1.1.3</span> Size (<code>&lt;size&gt;</code>)</h3>
<p>A size parameter may be any integer, with a single size suffix</p>
<ul>
<li><code>T</code> or <code>t</code>: TiB (2^40)</li>
<li><code>G</code> or <code>g</code>: GiB (2^30)</li>
<li><code>M</code> or <code>m</code>: MiB (2^20)</li>
<li><code>K</code> or <code>k</code>: KiB (2^10)</li>
<li><code>B</code> or <code>b</code>: Bytes</li>
</ul>
<p>Without a size suffix, the default will be kilo. Providing a suffix other than those listed above is undefined.</p>
<h3 id="string"><span class="header-section-number">1.1.4</span> String</h3>
<p>Many parameters are more complicated and require more intricate configuration. The detailed description of each individual parameter specify which values are valid.</p>
<h3 id="list"><span class="header-section-number">1.1.5</span> List</h3>
<p>Some options take a comma separated list of values.</p>
<h3 id="combination"><span class="header-section-number">1.1.6</span> Combination</h3>
<p>Some parameters act as combinations of the above, most commonly a mix of Boolean and String. These are noted in the relevant sections.</p>
<h2 id="parameter-details"><span class="header-section-number">1.2</span> Parameter details</h2>
<h3 id="acpi"><span class="header-section-number">1.2.1</span> acpi</h3>
<blockquote>
<p><code>= force | ht | noirq | &lt;boolean&gt;</code></p>
</blockquote>
<p><strong>String</strong>, or <strong>Boolean</strong> to disable.</p>
<p>The <strong>acpi</strong> option is used to control a set of four related boolean flags; <code>acpi_force</code>, <code>acpi_ht</code>, <code>acpi_noirq</code> and <code>acpi_disabled</code>.</p>
<p>By default, Xen will scan the DMI data and blacklist certain systems which are known to have broken ACPI setups. Providing <code>acpi=force</code> will cause Xen to ignore the blacklist and attempt to use all ACPI features.</p>
<p>Using <code>acpi=ht</code> causes Xen to parse the ACPI tables enough to enumerate all CPUs, but will not use other ACPI features. This is not common, and only has an effect if your system is blacklisted.</p>
<p>The <code>acpi=noirq</code> option causes Xen to not parse the ACPI MADT table looking for IO-APIC entries. This is also not common, and any system which requires this option to function should be blacklisted. Additionally, this will not prevent Xen from finding IO-APIC entries from the MP tables.</p>
<p>Finally, any of the boolean false options can be used to disable ACPI usage entirely.</p>
<p>Because responsibility for ACPI processing is shared between Xen and the domain 0 kernel this option is automatically propagated to the domain 0 command line</p>
<h3 id="acpi_apic_instance"><span class="header-section-number">1.2.2</span> acpi_apic_instance</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<p>Specify which ACPI MADT table to parse for APIC information, if more than one is present.</p>
<h3 id="acpi_pstate_strict-x86"><span class="header-section-number">1.2.3</span> acpi_pstate_strict (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Enforce checking that P-state transitions by the ACPI cpufreq driver actually result in the nominated frequency to be established. A warning message will be logged if that isn't the case.</p>
<h3 id="acpi_skip_timer_override-x86"><span class="header-section-number">1.2.4</span> acpi_skip_timer_override (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>Instruct Xen to ignore timer-interrupt override.</p>
<h3 id="acpi_sleep-x86"><span class="header-section-number">1.2.5</span> acpi_sleep (x86)</h3>
<blockquote>
<p><code>= s3_bios | s3_mode</code></p>
</blockquote>
<p><code>s3_bios</code> instructs Xen to invoke video BIOS initialization during S3 resume.</p>
<p><code>s3_mode</code> instructs Xen to set up the boot time (option <code>vga=</code>) video mode during S3 resume.</p>
<h3 id="allow_unsafe-x86"><span class="header-section-number">1.2.6</span> allow_unsafe (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Force boot on potentially unsafe systems. By default Xen will refuse to boot on systems with the following errata:</p>
<ul>
<li>AMD Erratum 121. Processors with this erratum are subject to a guest triggerable Denial of Service. Override only if you trust all of your PV guests.</li>
</ul>
<h3 id="altp2m-intel"><span class="header-section-number">1.2.7</span> altp2m (Intel)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Permit multiple copies of host p2m.</p>
<h3 id="apic-x86"><span class="header-section-number">1.2.8</span> apic (x86)</h3>
<blockquote>
<p><code>= bigsmp | default</code></p>
</blockquote>
<p>Override Xen's logic for choosing the APIC driver. By default, if there are more than 8 CPUs, Xen will switch to <code>bigsmp</code> over <code>default</code>.</p>
<h3 id="apicv-intel"><span class="header-section-number">1.2.9</span> apicv (Intel)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Permit Xen to use APIC Virtualisation Extensions. This is an optimisation available as part of VT-x, and allows hardware to take care of the guests APIC handling, rather than requiring emulation in Xen.</p>
<h3 id="apic_verbosity-x86"><span class="header-section-number">1.2.10</span> apic_verbosity (x86)</h3>
<blockquote>
<p><code>= verbose | debug</code></p>
</blockquote>
<p>Increase the verbosity of the APIC code from the default value.</p>
<h3 id="arat-x86"><span class="header-section-number">1.2.11</span> arat (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Permit Xen to use &quot;Always Running APIC Timer&quot; support on compatible hardware in combination with cpuidle. This option is only expected to be useful for developers wishing Xen to fall back to older timing methods on newer hardware.</p>
<h3 id="argo"><span class="header-section-number">1.2.12</span> argo</h3>
<pre><code>= List of [ &lt;bool&gt;, mac-permissive=&lt;bool&gt; ]</code></pre>
<p>Controls for the Argo hypervisor-mediated interdomain communication service.</p>
<p>The functionality that this option controls is only available when Xen has been compiled with the build setting for Argo enabled in the build configuration.</p>
<p>Argo is a interdomain communication mechanism, where Xen acts as the central point of authority. Guests may register memory rings to recieve messages, query the status of other domains, and send messages by hypercall, all subject to appropriate auditing by Xen. Argo is disabled by default.</p>
<ul>
<li><p>The <code>mac-permissive</code> boolean controls whether wildcard receive rings may be registered (<code>mac-permissive=1</code>) or may not be registered (<code>mac-permissive=0</code>).</p>
<p>This option is disabled by default, to protect domains from a DoS by a buggy or malicious other domain spamming the ring.</p></li>
</ul>
<h3 id="asid-x86"><span class="header-section-number">1.2.13</span> asid (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Permit Xen to use Address Space Identifiers. This is an optimisation which tags the TLB entries with an ID per vcpu. This allows for guest TLB flushes to be performed without the overhead of a complete TLB flush.</p>
<h3 id="async-show-all-x86"><span class="header-section-number">1.2.14</span> async-show-all (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Forces all CPUs' full state to be logged upon certain fatal asynchronous exceptions (watchdog NMIs and unexpected MCEs).</p>
<h3 id="ats-x86"><span class="header-section-number">1.2.15</span> ats (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Permits Xen to set up and use PCI Address Translation Services. This is a performance optimisation for PCI Passthrough.</p>
<p><strong>WARNING: Xen cannot currently safely use ATS because of its synchronous wait loops for Queued Invalidation completions.</strong></p>
<h3 id="availmem"><span class="header-section-number">1.2.16</span> availmem</h3>
<blockquote>
<p><code>= &lt;size&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>0</code> (no limit)</p>
</blockquote>
<p>Specify a maximum amount of available memory, to which Xen will clamp the e820 table.</p>
<h3 id="badpage"><span class="header-section-number">1.2.17</span> badpage</h3>
<blockquote>
<p><code>= List of [ &lt;integer&gt; | &lt;integer&gt;-&lt;integer&gt; ]</code></p>
</blockquote>
<p>Specify that certain pages, or certain ranges of pages contain bad bytes and should not be used. For example, if your memory tester says that byte <code>0x12345678</code> is bad, you would place <code>badpage=0x12345</code> on Xen's command line.</p>
<h3 id="bootscrub"><span class="header-section-number">1.2.18</span> bootscrub</h3>
<blockquote>
<p><code>= idle | &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>idle</code></p>
</blockquote>
<p>Scrub free RAM during boot. This is a safety feature to prevent accidentally leaking sensitive VM data into other VMs if Xen crashes and reboots.</p>
<p>In <code>idle</code> mode, RAM is scrubbed in background on all CPUs during idle-loop with a guarantee that memory allocations always provide scrubbed pages. This option reduces boot time on machines with a large amount of RAM while still providing security benefits.</p>
<h3 id="bootscrub_chunk"><span class="header-section-number">1.2.19</span> bootscrub_chunk</h3>
<blockquote>
<p><code>= &lt;size&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>128M</code></p>
</blockquote>
<p>Maximum RAM block size chunks to be scrubbed whilst holding the page heap lock and not running softirqs. Reduce this if softirqs are not being run frequently enough. Setting this to a high value may cause boot failure, particularly if the NMI watchdog is also enabled.</p>
<h3 id="clocksource-x86"><span class="header-section-number">1.2.20</span> clocksource (x86)</h3>
<blockquote>
<p><code>= pit | hpet | acpi | tsc</code></p>
</blockquote>
<p>If set, override Xen's default choice for the platform timer. Having TSC as platform timer requires being explicitly set. This is because TSC can only be safely used if CPU hotplug isn't performed on the system. On some platforms, the &quot;maxcpus&quot; option may need to be used to further adjust the number of allowed CPUs. When running on platforms that can guarantee a monotonic TSC across sockets you may want to adjust the &quot;tsc&quot; command line parameter to &quot;stable:socket&quot;.</p>
<h3 id="cmci-threshold-intel"><span class="header-section-number">1.2.21</span> cmci-threshold (Intel)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>2</code></p>
</blockquote>
<p>Specify the event count threshold for raising Corrected Machine Check Interrupts. Specifying zero disables CMCI handling.</p>
<h3 id="cmos-rtc-probe-x86"><span class="header-section-number">1.2.22</span> cmos-rtc-probe (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Flag to indicate whether to probe for a CMOS Real Time Clock irrespective of ACPI indicating none to be there.</p>
<h3 id="com1"><span class="header-section-number">1.2.23</span> com1</h3>
<h3 id="com2"><span class="header-section-number">1.2.24</span> com2</h3>
<blockquote>
<p><code>= &lt;baud&gt;[/&lt;base-baud&gt;][,[DPS][,[&lt;io-base&gt;|pci|amt][,[&lt;irq&gt;|msi][,[&lt;port-bdf&gt;][,[&lt;bridge-bdf&gt;]]]]]]</code></p>
</blockquote>
<p>Both option <code>com1</code> and <code>com2</code> follow the same format.</p>
<ul>
<li><code>&lt;baud&gt;</code> may be either an integer baud rate, or the string <code>auto</code> if the bootloader or other earlier firmware has already set it up.</li>
<li>Optionally, the base baud rate (usually the highest baud rate the device can communicate at) can be specified.</li>
<li><code>DPS</code> represents the number of data bits, the parity, and the number of stop bits.</li>
<li><code>D</code> is an integer between 5 and 8 for the number of data bits.</li>
<li><code>P</code> is a single character representing the type of parity:
<ul>
<li><code>n</code> No</li>
<li><code>o</code> Odd</li>
<li><code>e</code> Even</li>
<li><code>m</code> Mark</li>
<li><code>s</code> Space</li>
</ul></li>
<li><code>S</code> is an integer 1 or 2 for the number of stop bits.</li>
<li><code>&lt;io-base&gt;</code> is an integer which specifies the IO base port for UART registers.</li>
<li><code>&lt;irq&gt;</code> is the IRQ number to use, or <code>0</code> to use the UART in poll mode only, or <code>msi</code> to set up a Message Signaled Interrupt.</li>
<li><code>&lt;port-bdf&gt;</code> is the PCI location of the UART, in <code>&lt;bus&gt;:&lt;device&gt;.&lt;function&gt;</code> notation.</li>
<li><code>&lt;bridge-bdf&gt;</code> is the PCI bridge behind which is the UART, in <code>&lt;bus&gt;:&lt;device&gt;.&lt;function&gt;</code> notation.</li>
<li><code>pci</code> indicates that Xen should scan the PCI bus for the UART, avoiding Intel AMT devices.</li>
<li><code>amt</code> indicated that Xen should scan the PCI bus for the UART, including Intel AMT devices if present.</li>
</ul>
<p>A typical setup for most situations might be <code>com1=115200,8n1</code></p>
<p>In addition to the above positional specification for UART parameters, name=value pair specfications are also supported. This is used to add flexibility for UART devices which require additional UART parameter configurations.</p>
<p>The comma separation still delineates positional parameters. Hence, unless the parameter is explicitly specified with name=value option, it will be considered a positional parameter.</p>
<p>The syntax consists of com1=(comma-separated positional parameters),(comma separated name-value pairs)</p>
<p>The accepted name keywords for name=value pairs are:</p>
<ul>
<li><code>baud</code> - accepts integer baud rate (eg. 115200) or <code>auto</code></li>
<li><code>bridge</code>- Similar to bridge-bdf in positional parameters. Used to determine the PCI bridge to access the UART device. Notation is xx:xx.x <code>&lt;bus&gt;:&lt;device&gt;.&lt;function&gt;</code></li>
<li><code>clock-hz</code>- accepts large integers to setup UART clock frequencies. Do note - these values are multiplied by 16.</li>
<li><code>data-bits</code> - integer between 5 and 8</li>
<li><code>dev</code> - accepted values are <code>pci</code> OR <code>amt</code>. If this option is used to specify if the serial device is pci-based. The io_base cannot be specified when <code>dev=pci</code> or <code>dev=amt</code> is used.</li>
<li><code>io-base</code> - accepts integer which specified IO base port for UART registers</li>
<li><code>irq</code> - IRQ number to use</li>
<li><code>parity</code> - accepted values are same as positional parameters</li>
<li><code>port</code> - Used to specify which port the PCI serial device is located on Notation is xx:xx.x <code>&lt;bus&gt;:&lt;device&gt;.&lt;function&gt;</code></li>
<li><code>reg-shift</code> - register shifts required to set UART registers</li>
<li><code>reg-width</code> - register width required to set UART registers (only accepts 1 and 4)</li>
<li><code>stop-bits</code> - only accepts 1 or 2 for the number of stop bits</li>
</ul>
<p>The following are examples of correct specifications:</p>
<pre><code>com1=115200,8n1,0x3f8,4
com1=115200,8n1,0x3f8,4,reg_width=4,reg_shift=2
com1=baud=115200,parity=n,stop_bits=1,io_base=0x3f8,reg_width=4</code></pre>
<h3 id="conring_size"><span class="header-section-number">1.2.25</span> conring_size</h3>
<blockquote>
<p><code>= &lt;size&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>conring_size=16k</code></p>
</blockquote>
<p>Specify the size of the console ring buffer.</p>
<h3 id="console"><span class="header-section-number">1.2.26</span> console</h3>
<blockquote>
<p><code>= List of [ vga | com1[H,L] | com2[H,L] | pv | dbgp | none ]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>console=com1,vga</code></p>
</blockquote>
<p>Specify which console(s) Xen should use.</p>
<p><code>vga</code> indicates that Xen should try and use the vga graphics adapter.</p>
<p><code>com1</code> and <code>com2</code> indicates that Xen should use serial ports 1 and 2 respectively. Optionally, these arguments may be followed by an <code>H</code> or <code>L</code>. <code>H</code> indicates that transmitted characters will have their MSB set, while received characters must have their MSB set. <code>L</code> indicates the converse; transmitted and received characters will have their MSB cleared. This allows a single port to be shared by two subsystems (e.g. console and debugger).</p>
<p><code>pv</code> indicates that Xen should use Xen's PV console. This option is only available when used together with <code>pv-in-pvh</code>.</p>
<p><code>dbgp</code> indicates that Xen should use a USB debug port.</p>
<p><code>none</code> indicates that Xen should not use a console. This option only makes sense on its own.</p>
<h3 id="console_timestamps"><span class="header-section-number">1.2.27</span> console_timestamps</h3>
<blockquote>
<p><code>= none | date | datems | boot | raw</code></p>
</blockquote>
<blockquote>
<p>Default: <code>none</code></p>
</blockquote>
<blockquote>
<p>Can be modified at runtime</p>
</blockquote>
<p>Specify which timestamp format Xen should use for each console line.</p>
<ul>
<li><code>none</code>: No timestamps</li>
<li><code>date</code>: Date and time information
<ul>
<li><code>[YYYY-MM-DD HH:MM:SS]</code></li>
</ul></li>
<li><code>datems</code>: Date and time, with milliseconds
<ul>
<li><code>[YYYY-MM-DD HH:MM:SS.mmm]</code></li>
</ul></li>
<li><code>boot</code>: Seconds and microseconds since boot
<ul>
<li><code>[SSSSSS.uuuuuu]</code></li>
</ul></li>
<li><code>raw</code>: Raw platform ticks, architecture and implementation dependent
<ul>
<li><code>[XXXXXXXXXXXXXXXX]</code></li>
</ul></li>
</ul>
<p>For compatibility with the older boolean parameter, specifying <code>console_timestamps</code> alone will enable the <code>date</code> option.</p>
<h3 id="console_to_ring"><span class="header-section-number">1.2.28</span> console_to_ring</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Flag to indicate whether all guest console output should be copied into the console ring buffer.</p>
<h3 id="conswitch"><span class="header-section-number">1.2.29</span> conswitch</h3>
<blockquote>
<p><code>= &lt;switch char&gt;[x]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>conswitch=a</code></p>
</blockquote>
<blockquote>
<p>Can be modified at runtime</p>
</blockquote>
<p>Specify which character should be used to switch serial input between Xen and dom0. The required sequence is CTRL-&lt;switch char&gt; three times.</p>
<p>The optional trailing <code>x</code> indicates that Xen should not automatically switch the console input to dom0 during boot. Any other value, including omission, causes Xen to automatically switch to the dom0 console during dom0 boot. Use <code>conswitch=ax</code> to keep the default switch character, but for xen to keep the console.</p>
<h3 id="core_parking"><span class="header-section-number">1.2.30</span> core_parking</h3>
<blockquote>
<p><code>= power | performance</code></p>
</blockquote>
<blockquote>
<p>Default: <code>power</code></p>
</blockquote>
<h3 id="cpu_type-x86"><span class="header-section-number">1.2.31</span> cpu_type (x86)</h3>
<blockquote>
<p><code>= arch_perfmon</code></p>
</blockquote>
<p>If set, force use of the performance counters for oprofile, rather than detecting available support.</p>
<h3 id="cpufreq"><span class="header-section-number">1.2.32</span> cpufreq</h3>
<blockquote>
<p><code>= none | {{ &lt;boolean&gt; | xen } [:[powersave|performance|ondemand|userspace][,&lt;maxfreq&gt;][,[&lt;minfreq&gt;][,[verbose]]]]} | dom0-kernel</code></p>
</blockquote>
<blockquote>
<p>Default: <code>xen</code></p>
</blockquote>
<p>Indicate where the responsibility for driving power states lies. Note that the choice of <code>dom0-kernel</code> is deprecated and not supported by all Dom0 kernels.</p>
<ul>
<li>Default governor policy is ondemand.</li>
<li><code>&lt;maxfreq&gt;</code> and <code>&lt;minfreq&gt;</code> are integers which represent max and min processor frequencies respectively.</li>
<li><code>verbose</code> option can be included as a string or also as <code>verbose=&lt;integer&gt;</code></li>
</ul>
<h3 id="cpuid-x86"><span class="header-section-number">1.2.33</span> cpuid (x86)</h3>
<blockquote>
<p><code>= List of comma separated booleans</code></p>
</blockquote>
<p>This option allows for fine tuning of the facilities Xen will use, after accounting for hardware capabilities as enumerated via CPUID.</p>
<p>Currently accepted:</p>
<p>The Speculation Control hardware features <code>md-clear</code>, <code>ibrsb</code>, <code>stibp</code>, <code>ibpb</code>, <code>l1d-flush</code> and <code>ssbd</code> are used by default if available and applicable. They can be ignored, e.g. <code>no-ibrsb</code>, at which point Xen won't use them itself, and won't offer them to guests.</p>
<h3 id="cpuid_mask_cpu"><span class="header-section-number">1.2.34</span> cpuid_mask_cpu</h3>
<blockquote>
<p><code>= fam_0f_rev_[cdefg] | fam_10_rev_[bc] | fam_11_rev_b</code></p>
</blockquote>
<blockquote>
<p>Applicability: AMD</p>
</blockquote>
<p>If none of the other <strong>cpuid_mask_*</strong> options are given, Xen has a set of pre-configured masks to make the current processor appear to be family/revision specified.</p>
<p>See below for general information on masking.</p>
<p><strong>Warning: This option is not fully effective on Family 15h processors or later.</strong></p>
<h3 id="cpuid_mask_ecx"><span class="header-section-number">1.2.35</span> cpuid_mask_ecx</h3>
<h3 id="cpuid_mask_edx"><span class="header-section-number">1.2.36</span> cpuid_mask_edx</h3>
<h3 id="cpuid_mask_ext_ecx"><span class="header-section-number">1.2.37</span> cpuid_mask_ext_ecx</h3>
<h3 id="cpuid_mask_ext_edx"><span class="header-section-number">1.2.38</span> cpuid_mask_ext_edx</h3>
<h3 id="cpuid_mask_l7s0_eax"><span class="header-section-number">1.2.39</span> cpuid_mask_l7s0_eax</h3>
<h3 id="cpuid_mask_l7s0_ebx"><span class="header-section-number">1.2.40</span> cpuid_mask_l7s0_ebx</h3>
<h3 id="cpuid_mask_thermal_ecx"><span class="header-section-number">1.2.41</span> cpuid_mask_thermal_ecx</h3>
<h3 id="cpuid_mask_xsave_eax"><span class="header-section-number">1.2.42</span> cpuid_mask_xsave_eax</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Applicability: x86. Default: <code>~0</code> (all bits set)</p>
</blockquote>
<p>The availability of these options are model specific. Some processors don't support any of them, and no processor supports all of them. Xen will ignore options on processors which are lacking support.</p>
<p>These options can be used to alter the features visible via the <code>CPUID</code> instruction. Settings applied here take effect globally, including for Xen and all guests.</p>
<p>Note: Since Xen 4.7, it is no longer necessary to mask a host to create migration safety in heterogeneous scenarios. All necessary CPUID settings should be provided in the VM configuration file. Furthermore, it is recommended not to use this option, as doing so causes an unnecessary reduction of features at Xen's disposal to manage guests.</p>
<h3 id="cpuidle-x86"><span class="header-section-number">1.2.43</span> cpuidle (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<h3 id="cpuinfo-x86"><span class="header-section-number">1.2.44</span> cpuinfo (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<h3 id="crashinfo_maxaddr"><span class="header-section-number">1.2.45</span> crashinfo_maxaddr</h3>
<blockquote>
<p><code>= &lt;size&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>4G</code></p>
</blockquote>
<p>Specify the maximum address to allocate certain structures, if used in combination with the <strong>low_crashinfo</strong> command line option.</p>
<h3 id="crashkernel"><span class="header-section-number">1.2.46</span> crashkernel</h3>
<blockquote>
<p><code>= &lt;ramsize-range&gt;:&lt;size&gt;[,...][{@,&lt;}&lt;offset&gt;]</code> <code>= &lt;size&gt;[{@,&lt;}&lt;offset&gt;]</code> <code>= &lt;size&gt;,below=offset</code></p>
</blockquote>
<p>Specify sizes and optionally placement of the crash kernel reservation area. The <code>&lt;ramsize-range&gt;:&lt;size&gt;</code> pairs indicate how much memory to set aside for a crash kernel (<code>&lt;size&gt;</code>) for a given range of installed RAM (<code>&lt;ramsize-range&gt;</code>). Each <code>&lt;ramsize-range&gt;</code> is of the form <code>&lt;start&gt;-[&lt;end&gt;]</code>.</p>
<p>A trailing <code>@&lt;offset&gt;</code> specifies the exact address this area should be placed at, whereas <code>&lt;</code> in place of <code>@</code> just specifies an upper bound of the address range the area should fall into.</p>
<p>&lt; and below are synonyomous, the latter being useful for grub2 systems which would otherwise require escaping of the &lt; option</p>
<h3 id="credit2_balance_over"><span class="header-section-number">1.2.47</span> credit2_balance_over</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="credit2_balance_under"><span class="header-section-number">1.2.48</span> credit2_balance_under</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="credit2_cap_period_ms"><span class="header-section-number">1.2.49</span> credit2_cap_period_ms</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>10</code></p>
</blockquote>
<p>Domains subject to a cap receive a replenishment of their runtime budget once every cap period interval. Default is 10 ms. The amount of budget they receive depends on their cap. For instance, a domain with a 50% cap will receive 50% of 10 ms, so 5 ms.</p>
<h3 id="credit2_load_precision_shift"><span class="header-section-number">1.2.50</span> credit2_load_precision_shift</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>18</code></p>
</blockquote>
<p>Specify the number of bits to use for the fractional part of the values involved in Credit2 load tracking and load balancing math.</p>
<h3 id="credit2_load_window_shift"><span class="header-section-number">1.2.51</span> credit2_load_window_shift</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>30</code></p>
</blockquote>
<p>Specify the number of bits to use to represent the length of the window (in nanoseconds) we use for load tracking inside Credit2. This means that, with the default value (30), we use 2^30 nsec ~= 1 sec long window.</p>
<p>Load tracking is done by means of a variation of exponentially weighted moving average (EWMA). The window length defined here is what tells for how long we give value to previous history of the load itself. In fact, after a full window has passed, what happens is that we discard all previous history entirely.</p>
<p>A short window will make the load balancer quick at reacting to load changes, but also short-sighted about previous history (and hence, e.g., long term load trends). A long window will make the load balancer thoughtful of previous history (and hence capable of capturing, e.g., long term load trends), but also slow in responding to load changes.</p>
<p>The default value of <code>1 sec</code> is rather long.</p>
<h3 id="credit2_runqueue"><span class="header-section-number">1.2.52</span> credit2_runqueue</h3>
<blockquote>
<p><code>= cpu | core | socket | node | all</code></p>
</blockquote>
<blockquote>
<p>Default: <code>socket</code></p>
</blockquote>
<p>Specify how host CPUs are arranged in runqueues. Runqueues are kept balanced with respect to the load generated by the vCPUs running on them. Smaller runqueues (as in with <code>core</code>) means more accurate load balancing (for instance, it will deal better with hyperthreading), but also more overhead.</p>
<p>Available alternatives, with their meaning, are: * <code>cpu</code>: one runqueue per each logical pCPUs of the host; * <code>core</code>: one runqueue per each physical core of the host; * <code>socket</code>: one runqueue per each physical socket (which often, but not always, matches a NUMA node) of the host; * <code>node</code>: one runqueue per each NUMA node of the host; * <code>all</code>: just one runqueue shared by all the logical pCPUs of the host</p>
<h3 id="dbgp"><span class="header-section-number">1.2.53</span> dbgp</h3>
<blockquote>
<p><code>= ehci[ &lt;integer&gt; | @pci&lt;bus&gt;:&lt;slot&gt;.&lt;func&gt; ]</code></p>
</blockquote>
<p>Specify the USB controller to use, either by instance number (when going over the PCI busses sequentially) or by PCI device (must be on segment 0).</p>
<h3 id="debug_stack_lines"><span class="header-section-number">1.2.54</span> debug_stack_lines</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>20</code></p>
</blockquote>
<p>Limits the number lines printed in Xen stack traces.</p>
<h3 id="debugtrace"><span class="header-section-number">1.2.55</span> debugtrace</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>128</code></p>
</blockquote>
<p>Specify the size of the console debug trace buffer in KiB. The debug trace feature is only enabled in debugging builds of Xen.</p>
<h3 id="dma_bits"><span class="header-section-number">1.2.56</span> dma_bits</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<p>Specify the bit width of the DMA heap.</p>
<h3 id="dom0"><span class="header-section-number">1.2.57</span> dom0</h3>
<pre><code>= List of [ pv | pvh, shadow=&lt;bool&gt;, verbose=&lt;bool&gt; ]

Applicability: x86</code></pre>
<p>Controls for how dom0 is constructed on x86 systems.</p>
<ul>
<li><p>The <code>pv</code> and <code>pvh</code> options select the virtualisation mode of dom0.</p>
<p>The <code>pv</code> option is only available when <code>CONFIG_PV</code> is compiled in. The <code>pvh</code> option is only available when <code>CONFIG_HVM</code> is compiled in. When both options are compiled in, the default is PV.</p>
<p>In addition, the following requirements must be met:</p>
<ul>
<li>The dom0 kernel selected by the boot loader must be capable of the selected mode.</li>
<li>For a PVH dom0, the hardware must have VT-x/SVM extensions available.</li>
</ul></li>
<li><p>The <code>shadow</code> boolean is only applicable when dom0 is constructed as a PVH guest, and controls whether dom0 uses hardware assisted paging, or shadow paging. The default is HAP when available, and shadow otherwise.</p>
<p>This option is unavailable when <code>CONFIG_SHADOW_PAGING</code> is disabled. Such builds of Xen require HAP-capable hardware to use a PVH dom0.</p></li>
<li><p>The <code>verbose</code> boolean is intended for diagnostics, and prints out extra information during the dom0 build. It defaults to false.</p></li>
</ul>
<h3 id="dom0-iommu"><span class="header-section-number">1.2.58</span> dom0-iommu</h3>
<pre><code>= List of [ passthrough=&lt;bool&gt;, strict=&lt;bool&gt;, map-inclusive=&lt;bool&gt;,
            map-reserved=&lt;bool&gt;, none ]</code></pre>
<p>Controls for the dom0 IOMMU setup.</p>
<ul>
<li><p>The <code>passthrough</code> boolean controls whether IOMMU translation functionality is disabled for devices in dom0 (<code>passthrough=1</code>) or whether the IOMMU is used to ensure that dom0 can only DMA to its permitted areas of RAM (<code>passthrough=0</code>).</p>
<p>This option is only applicable to x86 PV dom0's, and defaults to false.</p>
<p>Some older Intel VT-d hardware isn't capable of disabling translation functionality on a per-device basis, and will cause this option to be ignored and assumed to be 0. Similar behaviour on such systems is only available by fully disabling all IOMMUs.</p>
<p>This option is hardwired to false for x86 PVH dom0's (where a non-identity transform is required for dom0 to function), and is ignored for ARM.</p></li>
<li><p>The <code>strict</code> boolean is applicable to x86 PV dom0's only and defaults to false. It controls whether dom0 can have IOMMU mappings for all domain RAM in the system, or only for its allocated RAM (and grant mappings etc.)</p>
<p>This option is hardwired to true for x86 PVH dom0's (as RAM belonging to other domains in the system don't live in a compatible address space), and is ignored for ARM.</p></li>
<li><p>The <code>map-inclusive</code> boolean is applicable to x86 PV dom0's, and sets up identity IOMMU mappings for all non-RAM regions below 4GB except for unusable ranges, and ranges belonging to Xen.</p>
<p>Typically, some devices in a system use bits of RAM for communication, and these areas should be listed as reserved in the E820 table and identified via RMRR or IVMD entries in the APCI tables, so Xen can ensure that they are identity-mapped in the IOMMU. However, some firmware makes mistakes, and this option is a coarse-grain workaround for those errors.</p>
<p>Where possible, finer grain corrections should be made with the <code>rmrr=</code>, <code>ivrs_hpet=</code> or <code>ivrs_ioapic=</code> command line options.</p>
<p>This option is disabled by default, and deprecated and intended for removal in future versions of Xen. If specifying <code>map-inclusive</code> is the only way to make your system boot, please report a bug.</p></li>
<li><p>The <code>map-reserved</code> functionality is very similar to <code>map-inclusive</code>.</p>
<p>The differences from <code>map-inclusive</code> are that <code>map-reserved</code> is applicable to both x86 PV and PVH dom0's, is enabled by default, and represents a subset of the correction by only mapping reserved memory regions rather than all non-RAM regions.</p></li>
<li><p>The <code>none</code> option is intended for development purposes only, and skips certain safety checks pertaining to the correct IOMMU configuration for dom0 to boot.</p>
<p>Incorrect use of this option may result in a malfunctioning system.</p></li>
</ul>
<h3 id="dom0_ioports_disable-x86"><span class="header-section-number">1.2.59</span> dom0_ioports_disable (x86)</h3>
<blockquote>
<p><code>= List of &lt;hex&gt;-&lt;hex&gt;</code></p>
</blockquote>
<p>Specify a list of IO ports to be excluded from dom0 access.</p>
<h3 id="dom0_max_vcpus"><span class="header-section-number">1.2.60</span> dom0_max_vcpus</h3>
<p>Either:</p>
<blockquote>
<p><code>= &lt;integer&gt;</code>.</p>
</blockquote>
<p>The number of VCPUs to give to dom0. This number of VCPUs can be more than the number of PCPUs on the host. The default is the number of PCPUs.</p>
<p>Or:</p>
<blockquote>
<p><code>= &lt;min&gt;-&lt;max&gt;</code> where <code>&lt;min&gt;</code> and <code>&lt;max&gt;</code> are integers.</p>
</blockquote>
<p>Gives dom0 a number of VCPUs equal to the number of PCPUs, but always at least <code>&lt;min&gt;</code> and no more than <code>&lt;max&gt;</code>. Using <code>&lt;min&gt;</code> may give more VCPUs than PCPUs. <code>&lt;min&gt;</code> or <code>&lt;max&gt;</code> may be omitted and the defaults of 1 and unlimited respectively are used instead.</p>
<p>For example, with <code>dom0_max_vcpus=4-8</code>:</p>
<blockquote>
<pre><code>   Number of
PCPUs | Dom0 VCPUs
 2    |  4
 4    |  4
 6    |  6
 8    |  8
10    |  8</code></pre>
</blockquote>
<h3 id="dom0_mem-arm"><span class="header-section-number">1.2.61</span> dom0_mem (ARM)</h3>
<blockquote>
<p><code>= &lt;size&gt;</code></p>
</blockquote>
<p>Set the amount of memory for the initial domain (dom0). It must be greater than zero. This parameter is required.</p>
<h3 id="dom0_mem-x86"><span class="header-section-number">1.2.62</span> dom0_mem (x86)</h3>
<blockquote>
<p><code>= List of ( min:&lt;sz&gt; | max:&lt;sz&gt; | &lt;sz&gt; )</code></p>
</blockquote>
<p>Set the amount of memory for the initial domain (dom0). If a size is positive, it represents an absolute value. If a size is negative, it is subtracted from the total available memory.</p>
<ul>
<li><code>&lt;sz&gt;</code> specifies the exact amount of memory.</li>
<li><code>min:&lt;sz&gt;</code> specifies the minimum amount of memory.</li>
<li><code>max:&lt;sz&gt;</code> specifies the maximum amount of memory.</li>
</ul>
<p>If <code>&lt;sz&gt;</code> is not specified, the default is all the available memory minus some reserve. The reserve is 1/16 of the available memory or 128 MB (whichever is smaller).</p>
<p>The amount of memory will be at least the minimum but never more than the maximum (i.e., <code>max</code> overrides the <code>min</code> option). If there isn't enough memory then as much as possible is allocated.</p>
<p><code>max:&lt;sz&gt;</code> also sets the maximum reservation (the maximum amount of memory dom0 can balloon up to). If this is omitted then the maximum reservation is unlimited.</p>
<p>For example, to set dom0's initial memory allocation to 512MB but allow it to balloon up as far as 1GB use <code>dom0_mem=512M,max:1G</code></p>
<blockquote>
<p><code>&lt;sz&gt;</code> is: <code>&lt;size&gt; | [&lt;size&gt;+]&lt;frac&gt;%</code> <code>&lt;frac&gt;</code> is an integer &lt; 100</p>
</blockquote>
<ul>
<li><code>&lt;frac&gt;</code> specifies a fraction of host memory size in percent.</li>
</ul>
<p>So <code>&lt;sz&gt;</code> being <code>1G+25%</code> on a 256 GB host would result in 65 GB.</p>
<p>If you use this option then it is highly recommended that you disable any dom0 autoballooning feature present in your toolstack. See the <em>xl.conf(5)</em> man page or <a href="http://wiki.xen.org/wiki/Xen_Best_Practices#Xen_dom0_dedicated_memory_and_preventing_dom0_memory_ballooning">Xen Best Practices</a>.</p>
<p>This option doesn't have effect if pv-shim mode is enabled.</p>
<h3 id="dom0_nodes-x86"><span class="header-section-number">1.2.63</span> dom0_nodes (x86)</h3>
<blockquote>
<p><code>= List of [ &lt;integer&gt; | relaxed | strict ]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>strict</code></p>
</blockquote>
<p>Specify the NUMA nodes to place Dom0 on. Defaults for vCPU-s created and memory assigned to Dom0 will be adjusted to match the node restrictions set up here. Note that the values to be specified here are ACPI PXM ones, not Xen internal node numbers. <code>relaxed</code> sets up vCPU affinities to prefer but be not limited to the specified node(s).</p>
<h3 id="dom0_vcpus_pin"><span class="header-section-number">1.2.64</span> dom0_vcpus_pin</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Pin dom0 vcpus to their respective pcpus</p>
<h3 id="dtuart-arm"><span class="header-section-number">1.2.65</span> dtuart (ARM)</h3>
<blockquote>
<p><code>= path [:options]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>&quot;&quot;</code></p>
</blockquote>
<p>Specify the full path in the device tree for the UART. If the path doesn't start with <code>/</code>, it is assumed to be an alias. The options are device specific.</p>
<h3 id="e820-mtrr-clip-x86"><span class="header-section-number">1.2.66</span> e820-mtrr-clip (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>Flag that specifies if RAM should be clipped to the highest cacheable MTRR.</p>
<blockquote>
<p>Default: <code>true</code> on Intel CPUs, otherwise <code>false</code></p>
</blockquote>
<h3 id="e820-verbose-x86"><span class="header-section-number">1.2.67</span> e820-verbose (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Flag that enables verbose output when processing e820 information and applying clipping.</p>
<h3 id="edd-x86"><span class="header-section-number">1.2.68</span> edd (x86)</h3>
<blockquote>
<p><code>= off | on | skipmbr</code></p>
</blockquote>
<p>Control retrieval of Extended Disc Data (EDD) from the BIOS during boot.</p>
<h3 id="edid-x86"><span class="header-section-number">1.2.69</span> edid (x86)</h3>
<blockquote>
<p><code>= no | force</code></p>
</blockquote>
<p>Either force retrieval of monitor EDID information via VESA DDC, or disable it (edid=no). This option should not normally be required except for debugging purposes.</p>
<h3 id="efi"><span class="header-section-number">1.2.70</span> efi</h3>
<pre><code>= List of [ rs=&lt;bool&gt;, attr=no|uc ]</code></pre>
<p>Controls for interacting with the system Extended Firmware Interface.</p>
<ul>
<li><p>The <code>rs</code> boolean controls whether Runtime Services are used. By default, Xen uses Runtime Services itself, and proxies certain calls on behalf of dom0. Selecting <code>rs=0</code> prohibits all use of Runtime Services.</p></li>
<li><p>The <code>attr=</code> string exists to specify what to do with memory regions of unknown/unrecognised cacheability. <code>attr=no</code> is the default and will leave the memory regions unmapped, while <code>attr=uc</code> will map them as fully uncacheable.</p></li>
</ul>
<h3 id="ept"><span class="header-section-number">1.2.71</span> ept</h3>
<blockquote>
<p><code>= List of [ ad=&lt;bool&gt;, pml=&lt;bool&gt;, exec-sp=&lt;bool&gt; ]</code></p>
</blockquote>
<blockquote>
<p>Applicability: Intel</p>
</blockquote>
<p>Extended Page Tables are a feature of Intel's VT-x technology, whereby hardware manages the virtualisation of HVM guest pagetables. EPT was introduced with the Nehalem architecture.</p>
<ul>
<li><p>The <code>ad</code> boolean controls hardware tracking of Access and Dirty bits in the EPT pagetables, and was first introduced in Broadwell Server.</p>
<p>By default, Xen will use A/D tracking when available in hardware, except on Avoton processors affected by erratum AVR41. Explicitly choosing <code>ad=0</code> will disable the use of A/D tracking on capable hardware, whereas choosing <code>ad=1</code> will cause tracking to be used even on AVR41-affected hardware.</p></li>
<li><p>The <code>pml</code> boolean controls the use of Page Modification Logging, which is also introduced in Broadwell Server.</p>
<p>PML is a feature whereby the processor generates a list of pages which have been dirtied. This is necessary information for operations such as live migration, and having the processor maintain the list of dirtied pages is more efficient than traditional software implementations where all guest writes trap into Xen so the dirty bitmap can be maintained.</p>
<p>By default, Xen will use PML when it is available in hardware. PML functionally depends on A/D tracking, so choosing <code>ad=0</code> will implicitly disable PML. <code>pml=0</code> can be used to prevent the use of PML on otherwise capable hardware.</p></li>
<li><p>The <code>exec-sp</code> boolean controls whether EPT superpages with execute permissions are permitted. In general this is good for performance.</p>
<p>However, on processors vulnerable CVE-2018-12207, HVM guest kernels can use executable superpages to crash the host. By default, executable superpages are disabled on affected hardware.</p>
<p>If HVM guest kernels are trusted not to mount a DoS against the system, this option can enabled to regain performance.</p>
<p>This boolean may be modified at runtime using <code>xl set-parameters ept=[no-]exec-sp</code> to switch between fast and secure.</p>
<ul>
<li><p>When switching from secure to fast, preexisting HVM domains will run at their current performance until they are rebooted; new domains will run without any overhead.</p></li>
<li><p>When switching from fast to secure, all HVM domains will immediately suffer a performance penalty.</p></li>
</ul>
<p><strong>Warning: No guarantee is made that this runtime option will be retained indefinitely, or that it will retain this exact behaviour. It is intended as an emergency option for people who first chose fast, then change their minds to secure, and wish not to reboot.</strong></p></li>
</ul>
<h3 id="extra_guest_irqs"><span class="header-section-number">1.2.72</span> extra_guest_irqs</h3>
<blockquote>
<p><code>= [&lt;domU number&gt;][,&lt;dom0 number&gt;]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>32,&lt;variable&gt;</code></p>
</blockquote>
<p>Change the number of PIRQs available for guests. The optional first number is common for all domUs, while the optional second number (preceded by a comma) is for dom0. Changing the setting for domU has no impact on dom0 and vice versa. For example to change dom0 without changing domU, use <code>extra_guest_irqs=,512</code>. The default value for Dom0 and an eventual separate hardware domain is architecture dependent. Note that specifying zero as domU value means zero, while for dom0 it means to use the default.</p>
<h3 id="flask"><span class="header-section-number">1.2.73</span> flask</h3>
<blockquote>
<p><code>= permissive | enforcing | late | disabled</code></p>
</blockquote>
<blockquote>
<p>Default: <code>enforcing</code></p>
</blockquote>
<p>Specify how the FLASK security server should be configured. This option is only available if the hypervisor was compiled with FLASK support. This can be enabled by running either: - make -C xen config and enabling XSM and FLASK. - make -C xen menuconfig and enabling 'FLux Advanced Security Kernel support' and 'Xen Security Modules support'</p>
<ul>
<li><code>permissive</code>: This is intended for development and is not suitable for use with untrusted guests. If a policy is provided by the bootloader, it will be loaded; errors will be reported to the ring buffer but will not prevent booting. The policy can be changed to enforcing mode using &quot;xl setenforce&quot;.</li>
<li><code>enforcing</code>: This will cause the security server to enter enforcing mode prior to the creation of domain 0. If an valid policy is not provided by the bootloader and no built-in policy is present, the hypervisor will not continue booting.</li>
<li><code>late</code>: This disables loading of the built-in security policy or the policy provided by the bootloader. FLASK will be enabled but will not enforce access controls until a policy is loaded by a domain using &quot;xl loadpolicy&quot;. Once a policy is loaded, FLASK will run in enforcing mode unless &quot;xl setenforce&quot; has changed that setting.</li>
<li><code>disabled</code>: This causes the XSM framework to revert to the dummy module. The dummy module provides the same security policy as is used when compiling the hypervisor without support for XSM. The xsm_op hypercall can also be used to switch to this mode after boot, but there is no way to re-enable FLASK once the dummy module is loaded.</li>
</ul>
<h3 id="font"><span class="header-section-number">1.2.74</span> font</h3>
<blockquote>
<p><code>= &lt;height&gt;</code> where height is <code>8x8 | 8x14 | 8x16</code></p>
</blockquote>
<p>Specify the font size when using the VESA console driver.</p>
<h3 id="force-ept-intel"><span class="header-section-number">1.2.75</span> force-ept (Intel)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Allow EPT to be enabled when VMX feature <code>VM_ENTRY_LOAD_GUEST_PAT</code> is not present.</p>
<p><em>Warning:</em> Due to CVE-2013-2212, VMX feature <code>VM_ENTRY_LOAD_GUEST_PAT</code> is by default required as a prerequisite for using EPT. If you are not using PCI Passthrough, or trust the guest administrator who would be using passthrough, then the requirement can be relaxed. This option is particularly useful for nested virtualization, to allow the L1 hypervisor to use EPT even if the L0 hypervisor does not provide <code>VM_ENTRY_LOAD_GUEST_PAT</code>.</p>
<h3 id="gdb"><span class="header-section-number">1.2.76</span> gdb</h3>
<blockquote>
<p><code>= com1[H,L] | com2[H,L] | dbgp</code></p>
</blockquote>
<blockquote>
<p>Default: ``</p>
</blockquote>
<p>Specify which console gdbstub should use. See <strong>console</strong>.</p>
<h3 id="gnttab"><span class="header-section-number">1.2.77</span> gnttab</h3>
<blockquote>
<p><code>= List of [ max-ver:&lt;integer&gt;, transitive=&lt;bool&gt; ]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>gnttab=max-ver:2,transitive</code></p>
</blockquote>
<p>Control various aspects of the grant table behaviour available to guests.</p>
<ul>
<li><code>max-ver</code> Select the maximum grant table version to offer to guests. Valid version are 1 and 2.</li>
<li><code>transitive</code> Permit or disallow the use of transitive grants. Note that the use of grant table v2 without transitive grants is an ABI breakage from the guests point of view.</li>
</ul>
<p>The usage of gnttab v2 is not security supported on ARM platforms.</p>
<h3 id="gnttab_max_frames"><span class="header-section-number">1.2.78</span> gnttab_max_frames</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>64</code></p>
</blockquote>
<blockquote>
<p>Can be modified at runtime</p>
</blockquote>
<p>Specify the maximum number of frames which any domain may use as part of its grant table. This value is an upper boundary of the per-domain value settable via Xen tools.</p>
<p>Dom0 is using this value for sizing its grant table.</p>
<h3 id="gnttab_max_maptrack_frames"><span class="header-section-number">1.2.79</span> gnttab_max_maptrack_frames</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>1024</code></p>
</blockquote>
<blockquote>
<p>Can be modified at runtime</p>
</blockquote>
<p>Specify the maximum number of frames to use as part of a domains maptrack array. This value is an upper boundary of the per-domain value settable via Xen tools.</p>
<p>Dom0 is using this value for sizing its maptrack table.</p>
<h3 id="guest_loglvl"><span class="header-section-number">1.2.80</span> guest_loglvl</h3>
<blockquote>
<p><code>= &lt;level&gt;[/&lt;rate-limited level&gt;]</code> where level is <code>none | error | warning | info | debug | all</code></p>
</blockquote>
<blockquote>
<p>Default: <code>guest_loglvl=none/warning</code></p>
</blockquote>
<blockquote>
<p>Can be modified at runtime</p>
</blockquote>
<p>Set the logging level for Xen guests. Any log message with equal more more importance will be printed.</p>
<p>The optional <code>&lt;rate-limited level&gt;</code> option instructs which severities should be rate limited.</p>
<h3 id="hap-x86"><span class="header-section-number">1.2.81</span> hap (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Flag to globally enable or disable support for Hardware Assisted Paging (HAP)</p>
<h3 id="hap_1gb-x86"><span class="header-section-number">1.2.82</span> hap_1gb (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Flag to enable 1 GB host page table support for Hardware Assisted Paging (HAP).</p>
<h3 id="hap_2mb-x86"><span class="header-section-number">1.2.83</span> hap_2mb (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Flag to enable 2 MB host page table support for Hardware Assisted Paging (HAP).</p>
<h3 id="hardware_dom"><span class="header-section-number">1.2.84</span> hardware_dom</h3>
<blockquote>
<p><code>= &lt;domid&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>0</code></p>
</blockquote>
<p>Enable late hardware domain creation using the specified domain ID. This is intended to be used when domain 0 is a stub domain which builds a disaggregated system including a hardware domain with the specified domain ID. This option is supported only when compiled with XSM on x86.</p>
<h3 id="hest_disable"><span class="header-section-number">1.2.85</span> hest_disable</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Control Xens use of the APEI Hardware Error Source Table, should one be found.</p>
<h3 id="highmem-start-x86"><span class="header-section-number">1.2.86</span> highmem-start (x86)</h3>
<blockquote>
<p><code>= &lt;size&gt;</code></p>
</blockquote>
<p>Specify the memory boundary past which memory will be treated as highmem (x86 debug hypervisor only).</p>
<h3 id="hmp-unsafe-arm"><span class="header-section-number">1.2.87</span> hmp-unsafe (arm)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default : <code>false</code></p>
</blockquote>
<p>Say yes at your own risk if you want to enable heterogenous computing (such as big.LITTLE). This may result to an unstable and insecure platform, unless you manually specify the cpu affinity of all domains so that all vcpus are scheduled on the same class of pcpus (big or LITTLE but not both). vcpu migration between big cores and LITTLE cores is not supported. See docs/misc/arm/big.LITTLE.txt for more information.</p>
<p>When the hmp-unsafe option is disabled (default), CPUs that are not identical to the boot CPU will be parked and not used by Xen.</p>
<h3 id="hpetbroadcast-x86"><span class="header-section-number">1.2.88</span> hpetbroadcast (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<h3 id="hvm_debug-x86"><span class="header-section-number">1.2.89</span> hvm_debug (x86)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<p>The specified value is a bit mask with the individual bits having the following meaning:</p>
<blockquote>
<pre><code>Bit  0 - debug level 0 (unused at present)
Bit  1 - debug level 1 (Control Register logging)
Bit  2 - debug level 2 (VMX logging of MSR restores when context switching)
Bit  3 - debug level 3 (unused at present)
Bit  4 - I/O operation logging
Bit  5 - vMMU logging
Bit  6 - vLAPIC general logging
Bit  7 - vLAPIC timer logging
Bit  8 - vLAPIC interrupt logging
Bit  9 - vIOAPIC logging
Bit 10 - hypercall logging
Bit 11 - MSR operation logging</code></pre>
</blockquote>
<p>Recognized in debug builds of the hypervisor only.</p>
<h3 id="hvm_fep-x86"><span class="header-section-number">1.2.90</span> hvm_fep (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Allow use of the Forced Emulation Prefix in HVM guests, to allow emulation of arbitrary instructions.</p>
<p>This option is intended for development and testing purposes.</p>
<p><em>Warning</em> As this feature opens up the instruction emulator to arbitrary instruction from an HVM guest, don't use this in production system. No security support is provided when this flag is set.</p>
<h3 id="hvm_port80-x86"><span class="header-section-number">1.2.91</span> hvm_port80 (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Specify whether guests are to be given access to physical port 80 (often used for debugging purposes), to override the DMI based detection of systems known to misbehave upon accesses to that port.</p>
<h3 id="idle_latency_factor-x86"><span class="header-section-number">1.2.92</span> idle_latency_factor (x86)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="ioapic_ack-x86"><span class="header-section-number">1.2.93</span> ioapic_ack (x86)</h3>
<blockquote>
<p><code>= old | new</code></p>
</blockquote>
<blockquote>
<p>Default: <code>new</code> unless directed-EOI is supported</p>
</blockquote>
<h3 id="iommu"><span class="header-section-number">1.2.94</span> iommu</h3>
<pre><code>= List of [ &lt;bool&gt;, verbose, debug, force, required, quarantine,
            sharept, intremap, intpost, crash-disable,
            snoop, qinval, igfx, amd-iommu-perdev-intremap,
            dom0-{passthrough,strict} ]

All sub-options are boolean in nature.</code></pre>
<p>I/O Memory Memory Units perform a function similar to the CPU MMU (hence the name), but typically exist as a discrete device, integrated as part of a PCI Root Complex. The most common configuration is to have one IOMMU per package (for on-die PCIe devices and directly attached PCIe lanes), and one IOMMU covering the remaining I/O in the system.</p>
<p>The functionality in an IOMMU commonly falls into two orthogonal categories:</p>
<ol style="list-style-type: decimal">
<li><p>DMA remapping which uses a pagetable-like hierarchical structure and maps I/O Virtual Addresses (DFNs - Device Frame Numbers in Xen's terminology) to System Physical Addresses (MFNs - Machine Frame Numbers in Xen's terminology).</p></li>
<li><p>Interrupt Remapping, which controls incoming Message Signalled Interrupt requests, including their routing to specific CPUs.</p></li>
</ol>
<p>IOMMU functionality can be used to provide a translation which the hardware device driver isn't aware of (e.g. PCI Passthrough and a native driver inside the guest) and/or to enforce fine-grained control over the memory and interrupts which a device is attempting to access.</p>
<p>By default, IOMMUs are configured for use if they are available. An overall boolean (e.g. <code>iommu=no</code>) can override this and leave the IOMMUs disabled.</p>
<ul>
<li><p>The <code>verbose</code> and <code>debug</code> booleans can be used to print additional diagnostic information. Neither are active by default.</p></li>
<li><p>The <code>force</code> and <code>required</code> booleans are synonymous and, when requested, will prevent Xen from booting if IOMMUs aren't discovered and enabled successfully.</p></li>
<li><p>The <code>quarantine</code> boolean can be used to control Xen's behavior when de-assigning devices from guests. If enabled (the default), Xen always quarantines such devices; they must be explicitly assigned back to Dom0 before they can be used there again. If disabled, Xen will only quarantine devices the toolstack hass arranged for getting quarantined.</p></li>
<li><p>The <code>sharept</code> boolean controls whether the IOMMU pagetables are shared with the CPU-side HAP pagetables, or allocated separately. Sharing reduces the memory overhead, but doesn't work in combination with CPU-side pagefault-based features, e.g. dirty VRAM tracking when a PCI device is assigned.</p>
<p>Due to implementation choices, sharing pagetables doesn't work on AMD hardware, and this option is ignored. It is enabled by default on Intel systems.</p>
<p>This option is ignored on ARM, and the pagetables are always shared.</p></li>
<li><p>The <code>intremap</code> boolean controls the Interrupt Remapping sub-feature, and is active by default on compatible hardware. On x86 systems, the first generation of IOMMUs only supported DMA remapping, and Interrupt Remapping appeared in the second generation.</p></li>
<li><p>The <code>intpost</code> boolean controls the Posted Interrupt sub-feature. In combination with APIC acceleration (VT-x APICV, SVM AVIC), the IOMMU can be configured to deliver interrupts from assigned PCI devices directly into the guest, without trapping out into hypervisor context.</p>
<p>This option depends on <code>intremap</code>, and is disabled by default due to some corner cases in the implementation which have yet to be resolved.</p></li>
<li><p>The <code>crash-disable</code> boolean controls disabling IOMMU functionality (DMAR/IR/QI) before switching to a crash kernel. This option is inactive by default and is for compatibility with older kdump kernels only. Modern kernels copy all the necessary tables from the previous one following kexec which makes the transition transparent for them with IOMMU functions still on.</p></li>
</ul>
<p>The following options are specific to Intel VT-d hardware:</p>
<ul>
<li><p>The <code>snoop</code> boolean controls the Snoop Control sub-feature, and is active by default on compatible hardware.</p>
<p>An incoming DMA request may specify <em>Snooped</em> (query the CPU caches for the appropriate lines) or <em>Non-Snooped</em> (don't query the CPU caches). <em>Non-Snooped</em> accesses incur less latency, but behind-the-scenes hypervisor activity can invalidate the expectations of the device driver, and Snoop Control allows the hypervisor to force DMA requests to be <em>Snooped</em> when they would otherwise not be.</p></li>
<li><p>The <code>qinval</code> boolean controls the Queued Invalidation sub-feature, and is active by default on compatible hardware. Queued Invalidation is a feature in second-generation IOMMUs and is a functional prerequisite for Interrupt Remapping.</p></li>
<li><p>The <code>igfx</code> boolean is active by default, and controls whether the IOMMU in front of an Intel Graphics Device is enabled or not.</p>
<p>It is intended as a debugging mechanism for graphics issues, and to be similar to Linux's <code>intel_iommu=igfx_off</code> option. If specifying <code>no-igfx</code> fixes anything, please report the problem.</p></li>
</ul>
<p>The following options are specific to AMD-Vi hardware:</p>
<ul>
<li><p>The <code>amd-iommu-perdev-intremap</code> boolean controls whether the interrupt remapping table is per device (the default), or a single global table for the entire system.</p>
<p>Using a global table is not security supported as it allows all devices to impersonate each other as far as interrupts as concerned (see XSA-36), but it is a workaround for SP5100 Erratum 28.</p></li>
</ul>
<p><strong>WARNING: The <code>dom0-passthrough</code> and <code>dom0-strict</code> booleans are both deprecated, and superseded by <em>dom0-iommu={passthrough,strict}</em> respectively - using both the old and new command line options in combination is undefined.</strong></p>
<h3 id="iommu_dev_iotlb_timeout"><span class="header-section-number">1.2.95</span> iommu_dev_iotlb_timeout</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>1000</code></p>
</blockquote>
<p>Specify the timeout of the device IOTLB invalidation in milliseconds. By default, the timeout is 1000 ms. When you see error 'Queue invalidate wait descriptor timed out', try increasing this value.</p>
<h3 id="iommu_inclusive_mapping"><span class="header-section-number">1.2.96</span> iommu_inclusive_mapping</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p><strong>WARNING: This command line option is deprecated, and superseded by <em>dom0-iommu=map-inclusive</em> - using both options in combination is undefined.</strong></p>
<h3 id="irq_ratelimit-x86"><span class="header-section-number">1.2.97</span> irq_ratelimit (x86)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="irq_vector_map-x86"><span class="header-section-number">1.2.98</span> irq_vector_map (x86)</h3>
<h3 id="ivrs_hpethpet-amd"><span class="header-section-number">1.2.99</span> ivrs_hpet[<code>&lt;hpet&gt;</code>] (AMD)</h3>
<blockquote>
<p><code>=[&lt;seg&gt;:]&lt;bus&gt;:&lt;device&gt;.&lt;func&gt;</code></p>
</blockquote>
<p>Force the use of <code>[&lt;seg&gt;:]&lt;bus&gt;:&lt;device&gt;.&lt;func&gt;</code> as device ID of HPET <code>&lt;hpet&gt;</code> instead of the one specified by the IVHD sub-tables of the IVRS ACPI table.</p>
<h3 id="ivrs_ioapicioapic-amd"><span class="header-section-number">1.2.100</span> ivrs_ioapic[<code>&lt;ioapic&gt;</code>] (AMD)</h3>
<blockquote>
<p><code>=[&lt;seg&gt;:]&lt;bus&gt;:&lt;device&gt;.&lt;func&gt;</code></p>
</blockquote>
<p>Force the use of <code>[&lt;seg&gt;:]&lt;bus&gt;:&lt;device&gt;.&lt;func&gt;</code> as device ID of IO-APIC <code>&lt;ioapic&gt;</code> instead of the one specified by the IVHD sub-tables of the IVRS ACPI table.</p>
<h3 id="lapic-x86"><span class="header-section-number">1.2.101</span> lapic (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>Force the use of use of the local APIC on a uniprocessor system, even if left disabled by the BIOS.</p>
<h3 id="lapic_timer_c2_ok-x86"><span class="header-section-number">1.2.102</span> lapic_timer_c2_ok (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<h3 id="ler-x86"><span class="header-section-number">1.2.103</span> ler (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: false</p>
</blockquote>
<p>This option is intended for debugging purposes only. Enable MSR_DEBUGCTL.LBR in hypervisor context to be able to dump the Last Interrupt/Exception To/From record with other registers.</p>
<h3 id="loglvl"><span class="header-section-number">1.2.104</span> loglvl</h3>
<blockquote>
<p><code>= &lt;level&gt;[/&lt;rate-limited level&gt;]</code> where level is <code>none | error | warning | info | debug | all</code></p>
</blockquote>
<blockquote>
<p>Default: <code>loglvl=warning</code></p>
</blockquote>
<blockquote>
<p>Can be modified at runtime</p>
</blockquote>
<p>Set the logging level for Xen. Any log message with equal more more importance will be printed.</p>
<p>The optional <code>&lt;rate-limited level&gt;</code> option instructs which severities should be rate limited.</p>
<h3 id="low_crashinfo"><span class="header-section-number">1.2.105</span> low_crashinfo</h3>
<blockquote>
<p><code>= none | min | all</code></p>
</blockquote>
<blockquote>
<p>Default: <code>none</code> if not specified at all, or to <code>min</code> if <strong>low_crashinfo</strong> is present without qualification.</p>
</blockquote>
<p>This option is only useful for hosts with a 32bit dom0 kernel, wishing to use kexec functionality in the case of a crash. It represents which data structures should be deliberately allocated in low memory, so the crash kernel may find find them. Should be used in combination with <strong>crashinfo_maxaddr</strong>.</p>
<h3 id="low_mem_virq_limit"><span class="header-section-number">1.2.106</span> low_mem_virq_limit</h3>
<blockquote>
<p><code>= &lt;size&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>64M</code></p>
</blockquote>
<p>Specify the threshold below which Xen will inform dom0 that the quantity of free memory is getting low. Specifying <code>0</code> will disable this notification.</p>
<h3 id="maxcpus-x86"><span class="header-section-number">1.2.107</span> maxcpus (x86)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<p>Specify the maximum number of CPUs that should be brought up.</p>
<p>This option is ignored in <strong>pv-shim</strong> mode.</p>
<h3 id="max_cstate-x86"><span class="header-section-number">1.2.108</span> max_cstate (x86)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="max_gsi_irqs-x86"><span class="header-section-number">1.2.109</span> max_gsi_irqs (x86)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<p>Specifies the number of interrupts to be use for pin (IO-APIC or legacy PIC) based interrupts. Any higher IRQs will be available for use via PCI MSI.</p>
<h3 id="max_lpi_bits-arm"><span class="header-section-number">1.2.110</span> max_lpi_bits (arm)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<p>Specifies the number of ARM GICv3 LPI interrupts to allocate on the host, presented as the number of bits needed to encode it. This must be at least 14 and not exceed 32, and each LPI requires one byte (configuration) and one pending bit to be allocated. Defaults to 20 bits (to cover at most 1048576 interrupts).</p>
<h3 id="mce-x86"><span class="header-section-number">1.2.111</span> mce (x86)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="mce_fb-intel"><span class="header-section-number">1.2.112</span> mce_fb (Intel)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="mce_verbosity-x86"><span class="header-section-number">1.2.113</span> mce_verbosity (x86)</h3>
<blockquote>
<p><code>= verbose</code></p>
</blockquote>
<p>Specify verbose machine check output.</p>
<h3 id="mem-x86"><span class="header-section-number">1.2.114</span> mem (x86)</h3>
<blockquote>
<p><code>= &lt;size&gt;</code></p>
</blockquote>
<p>Specify the maximum address of physical RAM. Any RAM beyond this limit is ignored by Xen.</p>
<h3 id="memop-max-order"><span class="header-section-number">1.2.115</span> memop-max-order</h3>
<blockquote>
<p><code>= [&lt;domU&gt;][,[&lt;ctldom&gt;][,[&lt;hwdom&gt;][,&lt;ptdom&gt;]]]</code></p>
</blockquote>
<blockquote>
<p>x86 default: <code>9,18,12,12</code> ARM default: <code>9,18,10,10</code></p>
</blockquote>
<p>Change the maximum order permitted for allocation (or allocation-like) requests issued by the various kinds of domains (in this order: ordinary DomU, control domain, hardware domain, and - when supported by the platform - DomU with pass-through device assigned).</p>
<h3 id="mmcfg-x86"><span class="header-section-number">1.2.116</span> mmcfg (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;[,amd-fam10]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>1</code></p>
</blockquote>
<p>Specify if the MMConfig space should be enabled.</p>
<h3 id="mmio-relax-x86"><span class="header-section-number">1.2.117</span> mmio-relax (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt; | all</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>By default, domains may not create cached mappings to MMIO regions. This option relaxes the check for Domain 0 (or when using <code>all</code>, all PV domains), to permit the use of cacheable MMIO mappings.</p>
<h3 id="msi-x86"><span class="header-section-number">1.2.118</span> msi (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Force Xen to (not) use PCI-MSI, even if ACPI FADT says otherwise.</p>
<h3 id="mtrr.show-x86"><span class="header-section-number">1.2.119</span> mtrr.show (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Print boot time MTRR state.</p>
<h3 id="mwait-idle-x86"><span class="header-section-number">1.2.120</span> mwait-idle (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Use the MWAIT idle driver (with model specific C-state knowledge) instead of the ACPI based one.</p>
<h3 id="nmi-x86"><span class="header-section-number">1.2.121</span> nmi (x86)</h3>
<blockquote>
<p><code>= ignore | dom0 | fatal</code></p>
</blockquote>
<blockquote>
<p>Default: <code>fatal</code> for a debug build, or <code>dom0</code> for a non-debug build</p>
</blockquote>
<p>Specify what Xen should do in the event of an NMI parity or I/O error. <code>ignore</code> discards the error; <code>dom0</code> causes Xen to report the error to dom0, while 'fatal' causes Xen to print diagnostics and then hang.</p>
<h3 id="noapic-x86"><span class="header-section-number">1.2.122</span> noapic (x86)</h3>
<p>Instruct Xen to ignore any IOAPICs that are present in the system, and instead continue to use the legacy PIC. This is <em>not</em> recommended with pvops type kernels.</p>
<p>Because responsibility for APIC setup is shared between Xen and the domain 0 kernel this option is automatically propagated to the domain 0 command line.</p>
<h3 id="invpcid-x86"><span class="header-section-number">1.2.123</span> invpcid (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>By default, Xen will use the INVPCID instruction for TLB management if it is available. This option can be used to cause Xen to fall back to older mechanisms, which are generally slower.</p>
<h3 id="noirqbalance-x86"><span class="header-section-number">1.2.124</span> noirqbalance (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>Disable software IRQ balancing and affinity. This can be used on systems such as Dell 1850/2850 that have workarounds in hardware for IRQ routing issues.</p>
<h3 id="nolapic-x86"><span class="header-section-number">1.2.125</span> nolapic (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Ignore the local APIC on a uniprocessor system, even if enabled by the BIOS.</p>
<h3 id="no-real-mode-x86"><span class="header-section-number">1.2.126</span> no-real-mode (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>Do not execute real-mode bootstrap code when booting Xen. This option should not be used except for debugging. It will effectively disable the <strong>vga</strong> option, which relies on real mode to set the video mode.</p>
<h3 id="noreboot"><span class="header-section-number">1.2.127</span> noreboot</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>Do not automatically reboot after an error. This is useful for catching debug output. Defaults to automatically reboot after 5 seconds.</p>
<h3 id="nosmp-x86"><span class="header-section-number">1.2.128</span> nosmp (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>Disable SMP support. No secondary processors will be booted. Defaults to booting secondary processors.</p>
<p>This option is ignored in <strong>pv-shim</strong> mode.</p>
<h3 id="nr_irqs-x86"><span class="header-section-number">1.2.129</span> nr_irqs (x86)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="numa-x86"><span class="header-section-number">1.2.130</span> numa (x86)</h3>
<blockquote>
<p><code>= on | off | fake=&lt;integer&gt; | noacpi</code></p>
</blockquote>
<blockquote>
<p>Default: <code>on</code></p>
</blockquote>
<h3 id="pci"><span class="header-section-number">1.2.131</span> pci</h3>
<pre><code>= List of [ serr=&lt;bool&gt;, perr=&lt;bool&gt; ]

Default: Signaling left as set by firmware.</code></pre>
<p>Override the firmware settings, and explicitly enable or disable the signalling of PCI System and Parity errors.</p>
<h3 id="pci-phantom"><span class="header-section-number">1.2.132</span> pci-phantom</h3>
<blockquote>
<p><code>=[&lt;seg&gt;:]&lt;bus&gt;:&lt;device&gt;,&lt;stride&gt;</code></p>
</blockquote>
<p>Mark a group of PCI devices as using phantom functions without actually advertising so, so the IOMMU can create translation contexts for them.</p>
<p>All numbers specified must be hexadecimal ones.</p>
<p>This option can be specified more than once (up to 8 times at present).</p>
<h3 id="pcid-x86"><span class="header-section-number">1.2.133</span> pcid (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt; | xpti=&lt;bool&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>xpti</code></p>
</blockquote>
<blockquote>
<p>Can be modified at runtime (change takes effect only for domains created afterwards)</p>
</blockquote>
<p>If available, control usage of the PCID feature of the processor for 64-bit pv-domains. PCID can be used either for no domain at all (<code>false</code>), for all of them (<code>true</code>), only for those subject to XPTI (<code>xpti</code>) or for those not subject to XPTI (<code>no-xpti</code>). The feature is used only in case INVPCID is supported and not disabled via <code>invpcid=false</code>.</p>
<h3 id="pku-x86"><span class="header-section-number">1.2.134</span> pku (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Flag to enable Memory Protection Keys.</p>
<p>The protection-key feature provides an additional mechanism by which IA-32e paging controls access to usermode addresses.</p>
<h3 id="ple_gap"><span class="header-section-number">1.2.135</span> ple_gap</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="ple_window-intel"><span class="header-section-number">1.2.136</span> ple_window (Intel)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="psr-intel"><span class="header-section-number">1.2.137</span> psr (Intel)</h3>
<blockquote>
<p><code>= List of ( cmt:&lt;boolean&gt; | rmid_max:&lt;integer&gt; | cat:&lt;boolean&gt; | cos_max:&lt;integer&gt; | cdp:&lt;boolean&gt; )</code></p>
</blockquote>
<blockquote>
<p>Default: <code>psr=cmt:0,rmid_max:255,cat:0,cos_max:255,cdp:0</code></p>
</blockquote>
<p>Platform Shared Resource(PSR) Services. Intel Haswell and later server platforms offer information about the sharing of resources.</p>
<p>To use the PSR monitoring service for a certain domain, a Resource Monitoring ID(RMID) is used to bind the domain to corresponding shared resource. RMID is a hardware-provided layer of abstraction between software and logical processors.</p>
<p>To use the PSR cache allocation service for a certain domain, a capacity bitmasks(CBM) is used to bind the domain to corresponding shared resource. CBM represents cache capacity and indicates the degree of overlap and isolation between domains. In hypervisor a Class of Service(COS) ID is allocated for each unique CBM.</p>
<p>The following resources are available:</p>
<ul>
<li>Cache Monitoring Technology (Haswell and later). Information regarding the L3 cache occupancy.</li>
<li><code>cmt</code> instructs Xen to enable/disable Cache Monitoring Technology.</li>
<li><code>rmid_max</code> indicates the max value for rmid.</li>
<li><p>Memory Bandwidth Monitoring (Broadwell and later). Information regarding the total/local memory bandwidth. Follow the same options with Cache Monitoring Technology.</p></li>
<li>Cache Allocation Technology (Broadwell and later). Information regarding the cache allocation.</li>
<li><code>cat</code> instructs Xen to enable/disable Cache Allocation Technology.</li>
<li><code>cos_max</code> indicates the max value for COS ID.</li>
<li>Code and Data Prioritization Technology (Broadwell and later). Information regarding the code cache and the data cache allocation. CDP is based on CAT.</li>
<li><p><code>cdp</code> instructs Xen to enable/disable Code and Data Prioritization. Note that <code>cos_max</code> of CDP is a little different from <code>cos_max</code> of CAT. With CDP, one COS will corespond two CBMs other than one with CAT, due to the sum of CBMs is fixed, that means actual <code>cos_max</code> in use will automatically reduce to half when CDP is enabled.</p></li>
</ul>
<h3 id="pv-linear-pt-x86"><span class="header-section-number">1.2.138</span> pv-linear-pt (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Only available if Xen is compiled with <code>CONFIG_PV_LINEAR_PT</code> support enabled.</p>
<p>Allow PV guests to have pagetable entries pointing to other pagetables of the same level (i.e., allowing L2 PTEs to point to other L2 pages). This technique is often called &quot;linear pagetables&quot;, and is sometimes used to allow operating systems a simple way to consistently map the current process's pagetables into its own virtual address space.</p>
<p>Linux and MiniOS don't use this technique. NetBSD and Novell Netware do; there may be other custom operating systems which do. If you're certain you don't plan on having PV guests which use this feature, turning it off can reduce the attack surface.</p>
<h3 id="pv-l1tf-x86"><span class="header-section-number">1.2.139</span> pv-l1tf (x86)</h3>
<blockquote>
<p><code>= List of [ &lt;bool&gt;, dom0=&lt;bool&gt;, domu=&lt;bool&gt; ]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code> on believed-unaffected hardware, or in pv-shim mode. <code>domu</code> on believed-affected hardware.</p>
</blockquote>
<p>Mitigations for L1TF / XSA-273 / CVE-2018-3620 for PV guests.</p>
<p>For backwards compatibility, we may not alter an architecturally-legitimate pagetable entry a PV guest chooses to write. We can however force such a guest into shadow mode so that Xen controls the PTEs which are reachable by the CPU pagewalk.</p>
<p>Shadowing is performed at the point where a PV guest first tries to write an L1TF-vulnerable PTE. Therefore, a PV guest kernel which has been updated with its own L1TF mitigations will not trigger shadow mode if it is well behaved.</p>
<p>If <code>CONFIG_SHADOW_PAGING</code> is not compiled in, this mitigation instead crashes the guest when an L1TF-vulnerable PTE is written, which still allows updated, well-behaved PV guests to run, despite Shadow being compiled out.</p>
<p>In the pv-shim case, Shadow is expected to be compiled out, and a malicious guest kernel can only leak data from the shim Xen, rather than the host Xen.</p>
<h3 id="pv-shim-x86"><span class="header-section-number">1.2.140</span> pv-shim (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>This option is intended for use by a toolstack, when choosing to run a PV guest compatibly inside an HVM container.</p>
<p>In this mode, the kernel and initrd passed as modules to the hypervisor are constructed into a plain unprivileged PV domain.</p>
<h3 id="rcu-idle-timer-period-ms"><span class="header-section-number">1.2.141</span> rcu-idle-timer-period-ms</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>10</code></p>
</blockquote>
<p>How frequently a CPU which has gone idle, but with pending RCU callbacks, should be woken up to check if the grace period has completed, and the callbacks are safe to be executed. Expressed in milliseconds; maximum is 100, and it can't be 0.</p>
<h3 id="reboot-x86"><span class="header-section-number">1.2.142</span> reboot (x86)</h3>
<blockquote>
<p><code>= t[riple] | k[bd] | a[cpi] | p[ci] | P[ower] | e[fi] | n[o] [, [w]arm | [c]old]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>0</code></p>
</blockquote>
<p>Specify the host reboot method.</p>
<p><code>warm</code> instructs Xen to not set the cold reboot flag.</p>
<p><code>cold</code> instructs Xen to set the cold reboot flag.</p>
<p><code>no</code> instructs Xen to not automatically reboot after panics or crashes.</p>
<p><code>triple</code> instructs Xen to reboot the host by causing a triple fault.</p>
<p><code>kbd</code> instructs Xen to reboot the host via the keyboard controller.</p>
<p><code>acpi</code> instructs Xen to reboot the host using RESET_REG in the ACPI FADT.</p>
<p><code>pci</code> instructs Xen to reboot the host using PCI reset register (port CF9).</p>
<p><code>Power</code> instructs Xen to power-cycle the host using PCI reset register (port CF9).</p>
<p>'efi' instructs Xen to reboot using the EFI reboot call (in EFI mode by default it will use that method first).</p>
<p><code>xen</code> instructs Xen to reboot using Xen's SCHEDOP hypercall (this is the default when running nested Xen)</p>
<h3 id="rmrr"><span class="header-section-number">1.2.143</span> rmrr</h3>
<blockquote>
<p><code>= start&lt;-end&gt;=[s1]bdf1[,[s1]bdf2[,...]];start&lt;-end&gt;=[s2]bdf1[,[s2]bdf2[,...]]</code></p>
</blockquote>
<p>Define RMRR units that are missing from ACPI table along with device they belong to and use them for 1:1 mapping. End addresses can be omitted and one page will be mapped. The ranges are inclusive when start and end are specified. If segment of the first device is not specified, segment zero will be used. If other segments are not specified, first device segment will be used. If a segment is specified for other than the first device and it does not match the one specified for the first one, an error will be reported.</p>
<p>'start' and 'end' values are page numbers (not full physical addresses), in hexadecimal format (can optionally be preceded by &quot;0x&quot;).</p>
<p>Usage example: If device 0:0:1d.0 requires one page (0xd5d45) to be reserved, and device 0:0:1a.0 requires three pages (0xd5d46 thru 0xd5d48) to be reserved, one usage would be:</p>
<p>rmrr=d5d45=0:0:1d.0;0xd5d46-0xd5d48=0:0:1a.0</p>
<p>Note: grub2 requires to escape or use quotations if special characters are used, namely ';', refer to the grub2 documentation if multiple ranges are specified.</p>
<h3 id="ro-hpet-x86"><span class="header-section-number">1.2.144</span> ro-hpet (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Map the HPET page as read only in Dom0. If disabled the page will be mapped with read and write permissions.</p>
<h3 id="sched"><span class="header-section-number">1.2.145</span> sched</h3>
<blockquote>
<p><code>= credit | credit2 | arinc653 | rtds | null</code></p>
</blockquote>
<blockquote>
<p>Default: <code>sched=credit</code></p>
</blockquote>
<p>Choose the default scheduler.</p>
<h3 id="sched_credit2_migrate_resist"><span class="header-section-number">1.2.146</span> sched_credit2_migrate_resist</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="sched_credit_tslice_ms"><span class="header-section-number">1.2.147</span> sched_credit_tslice_ms</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<p>Set the timeslice of the credit1 scheduler, in milliseconds. The default is 30ms. Reasonable values may include 10, 5, or even 1 for very latency-sensitive workloads.</p>
<h3 id="sched_ratelimit_us"><span class="header-section-number">1.2.148</span> sched_ratelimit_us</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<p>In order to limit the rate of context switching, set the minimum amount of time that a vcpu can be scheduled for before preempting it, in microseconds. The default is 1000us (1ms). Setting this to 0 disables it altogether.</p>
<h3 id="sched_smt_power_savings"><span class="header-section-number">1.2.149</span> sched_smt_power_savings</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>Normally Xen will try to maximize performance and cache utilization by spreading out vcpus across as many different divisions as possible (i.e, numa nodes, sockets, cores threads, &amp;c). This often maximizes throughput, but also maximizes energy usage, since it reduces the depth to which a processor can sleep.</p>
<p>This option inverts the logic, so that the scheduler in effect tries to keep the vcpus on the smallest amount of silicon possible; i.e., first fill up sibling threads, then sibling cores, then sibling sockets, &amp;c. This will reduce performance somewhat, particularly on systems with hyperthreading enabled, but should reduce power by enabling more sockets and cores to go into deeper sleep states.</p>
<h3 id="serial_tx_buffer"><span class="header-section-number">1.2.150</span> serial_tx_buffer</h3>
<blockquote>
<p><code>= &lt;size&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>16kB</code></p>
</blockquote>
<p>Set the serial transmit buffer size.</p>
<h3 id="serrors-arm"><span class="header-section-number">1.2.151</span> serrors (ARM)</h3>
<blockquote>
<p><code>= diverse | panic</code></p>
</blockquote>
<blockquote>
<p>Default: <code>diverse</code></p>
</blockquote>
<p>This parameter is provided to administrators to determine how the hypervisor handles SErrors.</p>
<ul>
<li><code>diverse</code>: The hypervisor will distinguish guest SErrors from hypervisor SErrors:
<ul>
<li>The guest generated SErrors will be forwarded to the currently running guest.</li>
<li>The hypervisor generated SErrors will cause the whole system to crash</li>
</ul></li>
<li><code>panic</code>: All SErrors will cause the whole system to crash. This option should only be used if you trust all your guests and/or they don't have a gadget (e.g. device) to generate SErrors in normal run.</li>
</ul>
<h3 id="shim_mem-x86"><span class="header-section-number">1.2.152</span> shim_mem (x86)</h3>
<blockquote>
<p><code>= List of ( min:&lt;size&gt; | max:&lt;size&gt; | &lt;size&gt; )</code></p>
</blockquote>
<p>Set the amount of memory that xen-shim uses. Only has effect if pv-shim mode is enabled. Note that this value accounts for the memory used by the shim itself plus the free memory slack given to the shim for runtime allocations.</p>
<ul>
<li><code>min:&lt;size&gt;</code> specifies the minimum amount of memory. Ignored if greater than max.</li>
<li><code>max:&lt;size&gt;</code> specifies the maximum amount of memory.</li>
<li><code>&lt;size&gt;</code> specifies the exact amount of memory. Overrides both min and max.</li>
</ul>
<p>By default, the amount of free memory slack given to the shim for runtime usage is 1MB.</p>
<h3 id="smap-x86"><span class="header-section-number">1.2.153</span> smap (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt; | hvm</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Flag to enable Supervisor Mode Access Prevention Use <code>smap=hvm</code> to allow SMAP use by HVM guests only.</p>
<h3 id="smep-x86"><span class="header-section-number">1.2.154</span> smep (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt; | hvm</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Flag to enable Supervisor Mode Execution Protection Use <code>smep=hvm</code> to allow SMEP use by HVM guests only.</p>
<h3 id="smt-x86"><span class="header-section-number">1.2.155</span> smt (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>Default: <code>true</code></p>
<p>Control bring up of multiple hyper-threads per CPU core.</p>
<h3 id="snb_igd_quirk"><span class="header-section-number">1.2.156</span> snb_igd_quirk</h3>
<blockquote>
<p><code>= &lt;boolean&gt; | cap | &lt;integer&gt;</code></p>
</blockquote>
<p>A true boolean value enables legacy behavior (1s timeout), while <code>cap</code> enforces the maximum theoretically necessary timeout of 670ms. Any number is being interpreted as a custom timeout in milliseconds. Zero or boolean false disable the quirk workaround, which is also the default.</p>
<h3 id="spec-ctrl-arm"><span class="header-section-number">1.2.157</span> spec-ctrl (Arm)</h3>
<blockquote>
<p><code>= List of [ ssbd=force-disable|runtime|force-enable ]</code></p>
</blockquote>
<p>Controls for speculative execution sidechannel mitigations.</p>
<p>The option <code>ssbd=</code> is used to control the state of Speculative Store Bypass Disable (SSBD) mitigation.</p>
<ul>
<li><code>ssbd=force-disable</code> will keep the mitigation permanently off. The guest will not be able to control the state of the mitigation.</li>
<li><code>ssbd=runtime</code> will always turn on the mitigation when running in the hypervisor context. The guest will be to turn on/off the mitigation for itself by using the firmware interface <code>ARCH_WORKAROUND_2</code>.</li>
<li><code>ssbd=force-enable</code> will keep the mitigation permanently on. The guest will not be able to control the state of the mitigation.</li>
</ul>
<p>By default SSBD will be mitigated at runtime (i.e <code>ssbd=runtime</code>).</p>
<h3 id="spec-ctrl-x86"><span class="header-section-number">1.2.158</span> spec-ctrl (x86)</h3>
<blockquote>
<p><code>= List of [ &lt;bool&gt;, xen=&lt;bool&gt;, {pv,hvm,msr-sc,rsb,md-clear}=&lt;bool&gt;,              bti-thunk=retpoline|lfence|jmp, {ibrs,ibpb,ssbd,eager-fpu,              l1d-flush}=&lt;bool&gt; ]</code></p>
</blockquote>
<p>Controls for speculative execution sidechannel mitigations. By default, Xen will pick the most appropriate mitigations based on compiled in support, loaded microcode, and hardware details, and will virtualise appropriate mitigations for guests to use.</p>
<p><strong>WARNING: Any use of this option may interfere with heuristics. Use with extreme care.</strong></p>
<p>An overall boolean value, <code>spec-ctrl=no</code>, can be specified to turn off all mitigations, including pieces of infrastructure used to virtualise certain mitigation features for guests. This also includes settings which <code>xpti</code>, <code>smt</code>, <code>pv-l1tf</code>, <code>tsx</code> control, unless the respective option(s) have been specified earlier on the command line.</p>
<p>Alternatively, a slightly more restricted <code>spec-ctrl=no-xen</code> can be used to turn off all of Xen's mitigations, while leaving the virtualisation support in place for guests to use.</p>
<p>Use of a positive boolean value for either of these options is invalid.</p>
<p>The booleans <code>pv=</code>, <code>hvm=</code>, <code>msr-sc=</code>, <code>rsb=</code> and <code>md-clear=</code> offer fine grained control over the alternative blocks used by Xen. These impact Xen's ability to protect itself, and Xen's ability to virtualise support for guests to use.</p>
<ul>
<li><code>pv=</code> and <code>hvm=</code> offer control over all suboptions for PV and HVM guests respectively.</li>
<li><code>msr-sc=</code> offers control over Xen's support for manipulating <code>MSR_SPEC_CTRL</code> on entry and exit. These blocks are necessary to virtualise support for guests and if disabled, guests will be unable to use IBRS/STIBP/SSBD/etc.</li>
<li><code>rsb=</code> offers control over whether to overwrite the Return Stack Buffer / Return Address Stack on entry to Xen.</li>
<li><code>md-clear=</code> offers control over whether to use VERW to flush microarchitectural buffers on idle and exit from Xen. <em>Note: For compatibility with development versions of this fix, <code>mds=</code> is also accepted on Xen 4.12 and earlier as an alias. Consult vendor documentation in preference to here.</em></li>
</ul>
<p>If Xen was compiled with INDIRECT_THUNK support, <code>bti-thunk=</code> can be used to select which of the thunks gets patched into the <code>__x86_indirect_thunk_%reg</code> locations. The default thunk is <code>retpoline</code> (generally preferred for Intel hardware), with the alternatives being <code>jmp</code> (a <code>jmp *%reg</code> gadget, minimal overhead), and <code>lfence</code> (an <code>lfence; jmp *%reg</code> gadget, preferred for AMD).</p>
<p>On hardware supporting IBRS (Indirect Branch Restricted Speculation), the <code>ibrs=</code> option can be used to force or prevent Xen using the feature itself. If Xen is not using IBRS itself, functionality is still set up so IBRS can be virtualised for guests.</p>
<p>On hardware supporting IBPB (Indirect Branch Prediction Barrier), the <code>ibpb=</code> option can be used to force (the default) or prevent Xen from issuing branch prediction barriers on vcpu context switches.</p>
<p>On hardware supporting SSBD (Speculative Store Bypass Disable), the <code>ssbd=</code> option can be used to force or prevent Xen using the feature itself. On AMD hardware, this is a global option applied at boot, and not virtualised for guest use. On Intel hardware, the feature is virtualised for guests, independently of Xen's choice of setting.</p>
<p>On all hardware, the <code>eager-fpu=</code> option can be used to force or prevent Xen from using fully eager FPU context switches. This is currently implemented as a global control. By default, Xen will choose to use fully eager context switches on hardware believed to speculate past #NM exceptions.</p>
<p>On hardware supporting L1D_FLUSH, the <code>l1d-flush=</code> option can be used to force or prevent Xen from issuing an L1 data cache flush on each VMEntry. Irrespective of Xen's setting, the feature is virtualised for HVM guests to use. By default, Xen will enable this mitigation on hardware believed to be vulnerable to L1TF.</p>
<h3 id="sync_console"><span class="header-section-number">1.2.159</span> sync_console</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Flag to force synchronous console output. Useful for debugging, but not suitable for production environments due to incurred overhead.</p>
<h3 id="tboot-x86"><span class="header-section-number">1.2.160</span> tboot (x86)</h3>
<blockquote>
<p><code>= 0x&lt;phys_addr&gt;</code></p>
</blockquote>
<p>Specify the physical address of the trusted boot shared page.</p>
<h3 id="tbuf_size"><span class="header-section-number">1.2.161</span> tbuf_size</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<p>Specify the per-cpu trace buffer size in pages.</p>
<h3 id="tdt-x86"><span class="header-section-number">1.2.162</span> tdt (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Flag to enable TSC deadline as the APIC timer mode.</p>
<h3 id="tevt_mask"><span class="header-section-number">1.2.163</span> tevt_mask</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<p>Specify a mask for Xen event tracing. This allows Xen tracing to be enabled at boot. Refer to the xentrace(8) documentation for a list of valid event mask values. In order to enable tracing, a buffer size (in pages) must also be specified via the tbuf_size parameter.</p>
<h3 id="tickle_one_idle_cpu"><span class="header-section-number">1.2.164</span> tickle_one_idle_cpu</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<h3 id="timer_slop"><span class="header-section-number">1.2.165</span> timer_slop</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="tmem"><span class="header-section-number">1.2.166</span> tmem</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>This option (and its underlying code) is going to go away in a future Xen version.</p>
<h3 id="tmem_compress"><span class="header-section-number">1.2.167</span> tmem_compress</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<p>This option (and its underlying code) is going to go away in a future Xen version.</p>
<h3 id="tsc-x86"><span class="header-section-number">1.2.168</span> tsc (x86)</h3>
<blockquote>
<p><code>= unstable | skewed | stable:socket</code></p>
</blockquote>
<h3 id="tsx"><span class="header-section-number">1.2.169</span> tsx</h3>
<pre><code>= &lt;bool&gt;

Applicability: x86
Default: false on parts vulnerable to TAA, true otherwise</code></pre>
<p>Controls for the use of Transactional Synchronization eXtensions.</p>
<p>On Intel parts released in Q3 2019 (with updated microcode), and future parts, a control has been introduced which allows TSX to be turned off.</p>
<p>On systems with the ability to turn TSX off, this boolean offers system wide control of whether TSX is enabled or disabled.</p>
<p>On parts vulnerable to CVE-2019-11135 / TSX Asynchronous Abort, the following logic applies:</p>
<ul>
<li><p>An explicit <code>tsx=</code> choice is honoured, even if it is <code>true</code> and would result in a vulnerable system.</p></li>
<li><p>When no explicit <code>tsx=</code> choice is given, parts vulnerable to TAA will be mitigated by disabling TSX, as this is the lowest overhead option.</p></li>
<li><p>If the use of TSX is important, the more expensive TAA mitigations can be opted in to with <code>smt=0 spec-ctrl=md-clear</code>, at which point TSX will remain active by default.</p></li>
</ul>
<h3 id="ucode-x86"><span class="header-section-number">1.2.170</span> ucode (x86)</h3>
<blockquote>
<p><code>= [&lt;integer&gt; | scan]</code></p>
</blockquote>
<p>Specify how and where to find CPU microcode update blob.</p>
<p>'integer' specifies the CPU microcode update blob module index. When positive, this specifies the n-th module (in the GrUB entry, zero based) to be used for updating CPU micrcode. When negative, counting starts at the end of the modules in the GrUB entry (so with the blob commonly being last, one could specify <code>ucode=-1</code>). Note that the value of zero is not valid here (entry zero, i.e. the first module, is always the Dom0 kernel image). Note further that use of this option has an unspecified effect when used with xen.efi (there the concept of modules doesn't exist, and the blob gets specified via the <code>ucode=&lt;filename&gt;</code> config file/section entry; see <a href="efi.html">EFI configuration file description</a>).</p>
<p>'scan' instructs the hypervisor to scan the multiboot images for an cpio image that contains microcode. Depending on the platform the blob with the microcode in the cpio name space must be: - on Intel: kernel/x86/microcode/GenuineIntel.bin - on AMD : kernel/x86/microcode/AuthenticAMD.bin</p>
<h3 id="unrestricted_guest-intel"><span class="header-section-number">1.2.171</span> unrestricted_guest (Intel)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<h3 id="vcpu_migration_delay"><span class="header-section-number">1.2.172</span> vcpu_migration_delay</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>0</code></p>
</blockquote>
<p>Specify a delay, in microseconds, between migrations of a VCPU between PCPUs when using the credit1 scheduler. This prevents rapid fluttering of a VCPU between CPUs, and reduces the implicit overheads such as cache-warming. 1ms (1000) has been measured as a good value.</p>
<h3 id="vesa-map"><span class="header-section-number">1.2.173</span> vesa-map</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="vesa-mtrr"><span class="header-section-number">1.2.174</span> vesa-mtrr</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="vesa-ram"><span class="header-section-number">1.2.175</span> vesa-ram</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<h3 id="vga"><span class="header-section-number">1.2.176</span> vga</h3>
<blockquote>
<p><code>= ( ask | current | text-80x&lt;rows&gt; | gfx-&lt;width&gt;x&lt;height&gt;x&lt;depth&gt; | mode-&lt;mode&gt; )[,keep]</code></p>
</blockquote>
<p><code>ask</code> causes Xen to display a menu of available modes and request the user to choose one of them.</p>
<p><code>current</code> causes Xen to use the graphics adapter in its current state, without further setup.</p>
<p><code>text-80x&lt;rows&gt;</code> instructs Xen to set up text mode. Valid values for <code>&lt;rows&gt;</code> are <code>25, 28, 30, 34, 43, 50, 80</code></p>
<p><code>gfx-&lt;width&gt;x&lt;height&gt;x&lt;depth&gt;</code> instructs Xen to set up graphics mode with the specified width, height and depth.</p>
<p><code>mode-&lt;mode&gt;</code> instructs Xen to use a specific mode, as shown with the <code>ask</code> option. (N.B menu modes are displayed in hex, so <code>&lt;mode&gt;</code> should be a hexadecimal number)</p>
<p>The optional <code>keep</code> parameter causes Xen to continue using the vga console even after dom0 has been started. The default behaviour is to relinquish control to dom0.</p>
<h3 id="viridian-spinlock-retry-count-x86"><span class="header-section-number">1.2.177</span> viridian-spinlock-retry-count (x86)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>2047</code></p>
</blockquote>
<p>Specify the maximum number of retries before an enlightened Windows guest will notify Xen that it has failed to acquire a spinlock.</p>
<h3 id="viridian-version-x86"><span class="header-section-number">1.2.178</span> viridian-version (x86)</h3>
<blockquote>
<p><code>= [&lt;major&gt;],[&lt;minor&gt;],[&lt;build&gt;]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>6,0,0x1772</code></p>
</blockquote>
<p><major>, <minor> and <build> must be integers. The values will be encoded in guest CPUID 0x40000002 if viridian enlightenments are enabled.</p>
<h3 id="vpid-intel"><span class="header-section-number">1.2.179</span> vpid (Intel)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Use Virtual Processor ID support if available. This prevents the need for TLB flushes on VM entry and exit, increasing performance.</p>
<h3 id="vpmu-x86"><span class="header-section-number">1.2.180</span> vpmu (x86)</h3>
<pre><code>= List of [ &lt;bool&gt;, bts, ipc, arch, rtm-abort=&lt;bool&gt; ]

Applicability: x86.  Default: false</code></pre>
<p>Controls for Performance Monitoring Unit virtualisation.</p>
<p>Performance monitoring facilities tend to be very hardware specific, and provide access to a wealth of low level processor information.</p>
<ul>
<li><p>An overall boolean can be used to enable or disable vPMU support. vPMU is disabled by default.</p>
<p>When enabled, guests have full access to all performance counter settings, including model specific functionality. This is a superset of the functionality offered by <code>ipc</code> and/or <code>arch</code>, but a subset of the functionality offered by <code>bts</code>.</p>
<p>Xen's watchdog functionality is implemented using performance counters. As a result, use of the <strong>watchdog</strong> option will override and disable vPMU.</p></li>
<li><p>The <code>bts</code> option enables performance monitoring, and permits additional access to the Branch Trace Store controls. BTS is an Intel feature where the processor can write data into a buffer whenever a branch occurs. However, as this feature isn't virtualised, a misconfiguration by the guest can lock the entire system up.</p></li>
<li><p>The <code>ipc</code> option allows access to the most minimal set of counters possible: instructions, cycles, and reference cycles. These can be used to calculate instructions per cycle (IPC).</p></li>
<li><p>The <code>arch</code> option allows access to the pre-defined architectural events.</p></li>
<li><p>The <code>rtm-abort</code> boolean controls a trade-off between working Restricted Transactional Memory, and working performance counters.</p>
<p>All processors released to date (Q1 2019) supporting Transactional Memory Extensions suffer an erratum which has been addressed in microcode.</p>
<p>Processors based on the Skylake microarchitecture with up-to-date microcode internally use performance counter 3 to work around the erratum. A consequence is that the counter gets reprogrammed whenever an <code>XBEGIN</code> instruction is executed.</p>
<p>An alternative mode exists where PCR3 behaves as before, at the cost of <code>XBEGIN</code> unconditionally aborting. Enabling <code>rtm-abort</code> mode will activate this alternative mode.</p></li>
</ul>
<p><em>Warning:</em> As the virtualisation is not 100% safe, don't use the vpmu flag on production systems (see http://xenbits.xen.org/xsa/advisory-163.html)!</p>
<h3 id="vwfi-arm"><span class="header-section-number">1.2.181</span> vwfi (arm)</h3>
<blockquote>
<p><code>= trap | native</code></p>
</blockquote>
<blockquote>
<p>Default: <code>trap</code></p>
</blockquote>
<p>WFI is the ARM instruction to &quot;wait for interrupt&quot;. WFE is similar and means &quot;wait for event&quot;. This option, which is ARM specific, changes the way guest WFI and WFE are implemented in Xen. By default, Xen traps both instructions. In the case of WFI, Xen blocks the guest vcpu; in the case of WFE, Xen yield the guest vcpu. When setting vwfi to <code>native</code>, Xen doesn't trap either instruction, running them in guest context. Setting vwfi to <code>native</code> reduces irq latency significantly. It can also lead to suboptimal scheduling decisions, but only when the system is oversubscribed (i.e., in total there are more vCPUs than pCPUs).</p>
<h3 id="watchdog-x86"><span class="header-section-number">1.2.182</span> watchdog (x86)</h3>
<blockquote>
<p><code>= force | &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Run an NMI watchdog on each processor. If a processor is stuck for longer than the <strong>watchdog_timeout</strong>, a panic occurs. When <code>force</code> is specified, in addition to running an NMI watchdog on each processor, unknown NMIs will still be processed.</p>
<h3 id="watchdog_timeout-x86"><span class="header-section-number">1.2.183</span> watchdog_timeout (x86)</h3>
<blockquote>
<p><code>= &lt;integer&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>5</code></p>
</blockquote>
<p>Set the NMI watchdog timeout in seconds. Specifying <code>0</code> will turn off the watchdog.</p>
<h3 id="x2apic-x86"><span class="header-section-number">1.2.184</span> x2apic (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Permit use of x2apic setup for SMP environments.</p>
<h3 id="x2apic_phys-x86"><span class="header-section-number">1.2.185</span> x2apic_phys (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code> if <strong>FADT</strong> mandates physical mode, <code>false</code> otherwise.</p>
</blockquote>
<p>In the case that x2apic is in use, this option switches between physical and clustered mode. The default, given no hint from the <strong>FADT</strong>, is cluster mode.</p>
<h3 id="xenheap_megabytes-arm32"><span class="header-section-number">1.2.186</span> xenheap_megabytes (arm32)</h3>
<blockquote>
<p><code>= &lt;size&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>0</code> (1/32 of RAM)</p>
</blockquote>
<p>Amount of RAM to set aside for the Xenheap. Must be an integer multiple of 32.</p>
<p>By default will use 1/32 of the RAM up to a maximum of 1GB and with a minimum of 32M, subject to a suitably aligned and sized contiguous region of memory being available.</p>
<h3 id="xpti-x86"><span class="header-section-number">1.2.187</span> xpti (x86)</h3>
<blockquote>
<p><code>= List of [ default | &lt;boolean&gt; | dom0=&lt;bool&gt; | domu=&lt;bool&gt; ]</code></p>
</blockquote>
<blockquote>
<p>Default: <code>false</code> on hardware known not to be vulnerable to Meltdown (e.g. AMD) Default: <code>true</code> everywhere else</p>
</blockquote>
<p>Override default selection of whether to isolate 64-bit PV guest page tables.</p>
<p><code>true</code> activates page table isolation even on hardware not vulnerable by Meltdown for all domains.</p>
<p><code>false</code> deactivates page table isolation on all systems for all domains.</p>
<p><code>default</code> sets the default behaviour.</p>
<p>With <code>dom0</code> and <code>domu</code> it is possible to control page table isolation for dom0 or guest domains only.</p>
<h3 id="xsave-x86"><span class="header-section-number">1.2.188</span> xsave (x86)</h3>
<blockquote>
<p><code>= &lt;boolean&gt;</code></p>
</blockquote>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Permit use of the <code>xsave/xrstor</code> instructions.</p>
<h3 id="xsm"><span class="header-section-number">1.2.189</span> xsm</h3>
<blockquote>
<p><code>= dummy | flask | silo</code></p>
</blockquote>
<blockquote>
<p>Default: selectable via Kconfig. Depends on enabled XSM modules.</p>
</blockquote>
<p>Specify which XSM module should be enabled. This option is only available if the hypervisor was compiled with <code>CONFIG_XSM</code> enabled.</p>
<ul>
<li><code>dummy</code>: this is the default choice. Basic restriction for common deployment (the dummy module) will be applied. It's also used when XSM is compiled out.</li>
<li><code>flask</code>: this is the policy based access control. To choose this, the separated option in kconfig must also be enabled.</li>
<li><code>silo</code>: this will deny any unmediated communication channels between unprivileged VMs. To choose this, the separated option in kconfig must also be enabled.</li>
</ul>
</body>
</html>
